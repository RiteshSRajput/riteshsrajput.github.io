System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js","./p-44095e81.system.js"],(function(e){"use strict";var t,s,r,i,a,l;return{setters:[function(e){t=e.r;s=e.d;r=e.h;i=e.g},function(e){a=e.B},function(e){l=e.m}],execute:function(){var n=e("dxp_image_carousel",function(){function e(e){t(this,e);this.curIndex=0;this.delayNextProgressBar=0;this.autoplay=true;this.pauseDuration=6e3}e.prototype.componentWillLoad=function(){this.base=new a(this,s);this.base.i18Init(s,"ImageCarousel",l);if(this.carouselData&&typeof this.carouselData==="string"){this.carouselData=JSON.parse(this.carouselData)}this.slideReveal=this.pauseDuration/5};e.prototype.componentDidLoad=function(){var e=this;this.dxpCarouselSlide=this.findElements(this.element,"dxp-image-slide",true);var t=[];var s=false;if(this.dxpCarouselSlide){for(var r=0,i=Object.keys(this.dxpCarouselSlide);r<i.length;r++){var a=i[r];var l=this.findElements(this.dxpCarouselSlide[a],"dxp-image");l.componentOnReady().then((function(r){e.totalSlides.innerHTML=(e.dxpCarouselSlide.length<10?"0":"")+e.dxpCarouselSlide.length;e.applyWidthOnDxpImg();var i=e.findElements(r,"img");t.push(i);if(!s){s=true;t[0].addEventListener("load",(function(){t[0].style.width="100%";e.wrapDxpImg();e.slideShow(undefined);e.carouselContainer.style.height=e.slides[0].offsetHeight+"px";t[0].style.removeProperty("width")}),false)}}))}}};e.prototype.resizeEventHandler=function(){this.applyWidthOnDxpImg();this.carouselContainer.style.height=this.slides[0].offsetHeight+"px"};e.prototype.applyWidthOnDxpImg=function(){for(var e=0,t=Object.keys(this.dxpCarouselSlide);e<t.length;e++){var s=t[e];this.dxpCarouselSlide[s].style.display="block";this.dxpCarouselSlide[s].style.width=this.carouselContainer.offsetWidth+"px"}};e.prototype.findElements=function(e,t,s){if(s===void 0){s=false}if(s){return e.querySelectorAll(t).length?e.querySelectorAll(t):e.querySelectorAll(t).length?e.querySelectorAll(t):undefined}return e&&e.querySelector(t)?e.querySelector(t):e&&e&&e.querySelector(t)};e.prototype.getArrayFromNodeList=function(e){return[].slice.call(e)};e.prototype.hideSlide=function(e){e.setAttribute("data-visible","false");e.style.transitionDelay=this.slideReveal+"ms";e.style.opacity="0";e.style.width="0";e.style.zIndex="0";e.style.transform="translateX(-100px)"};e.prototype.nextSlide=function(e){if(!e.code||e.code.toLowerCase()==="space"||e.code.toLowerCase()==="enter"||e.code.toLowerCase()==="numpadenter"){var t=this.index;t++;clearInterval(this.clrInterval);var s=t>this.slides.length-1?0:t;this.slideShow(s)}};e.prototype.prevSlide=function(e){if(!e.code||e.code.toLowerCase()==="space"||e.code.toLowerCase()==="enter"||e.code.toLowerCase()==="numpadenter"){var t=this.index;t--;clearInterval(this.clrInterval);var s=t<0?this.slides.length-1:t;this.slideShow(s)}};e.prototype.revealSlide=function(e){var t=this;var s=e.getAttribute("data-index");var r=0;e.setAttribute("data-visible","true");e.style.transitionDelay="";e.style.opacity=1;e.style.width="100%";e.style.zIndex=1;e.style.transform="translateX(0px)";this.activeSlide.innerHTML=""+(Number(s)+1<10?"0":"")+(Number(s)+1)+" / ";if(this.delayNextProgressBar){this.carouselProgressbar.style.transition="width "+this.slideReveal+"ms";this.carouselProgressbar.style.width="0";this.carouselProgressbar.classList.remove("left");this.carouselProgressbar.classList.add("right");r=this.slideReveal*2}setTimeout((function(){t.carouselProgressbar.style.transition="width "+(t.pauseDuration-r)+"ms";t.carouselProgressbar.style.transitionDelay=t.delayNextProgressBar+"ms";t.carouselProgressbar.classList.remove("right");t.carouselProgressbar.classList.add("left");t.carouselProgressbar.style.width=100+"%"}),this.delayNextProgressBar)};e.prototype.slideShow=function(e){var t=this;this.index=this.curIndex;if(e>-1){var s=this.findElements(this.element,'[data-visible="true"]');this.hideSlide(s);this.curIndex=e;this.index=this.curIndex}this.revealSlide(this.slides[this.curIndex]);var r=this.curIndex;this.curIndex++;if(this.curIndex===this.slides.length){this.curIndex=0}if(this.autoplay){this.clrInterval=setTimeout((function(){t.hideSlide(t.slides[r]);t.delayNextProgressBar=t.slideReveal;t.slideShow(undefined)}),this.pauseDuration)}};e.prototype.wrapDxpImg=function(){for(var e=0,t=Object.keys(this.dxpCarouselSlide);e<t.length;e++){var s=t[e];var r=this.dxpCarouselSlide[s].parentElement;var i=document.createElement("div");i.classList.add("image-wrapper");i.classList.add("sc-dxp-image-carousel");i.appendChild(this.dxpCarouselSlide[s]);i.appendChild(this.dxpCarouselSlide[s]);r.appendChild(i)}this.slides=this.findElements(this.element,".image-wrapper",true);for(var a=0,l=Object.keys(this.slides);a<l.length;a++){var s=l[a];this.slides[s].setAttribute("data-index",s);this.slides[s].style.transition="transform "+this.slideReveal+"ms, opacity 0ms, width "+this.slideReveal+"ms"}};e.prototype.render=function(){var e=this;s.log.debug(this.element.tagName,"render()","in dxp-image-carousel render() : "+"DEVELOPMENT");var t=[r("link",{rel:"stylesheet",href:""}),[this.theme&&r("link",{rel:"stylesheet",href:""})],[this.theme&&r("link",{rel:"stylesheet",href:s.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-image-carousel.min.css"})]];return r("div",{class:this.base.componentClass(),dir:this.dir,"data-theme":this.theme},t,r("div",{class:"carousel-container",tabindex:"0",ref:function(t){return e.carouselContainer=t}},this.carouselData?this.carouselData.map((function(e){return r("dxp-image-slide",{"eyebrow-title":e["eyebrow-title"],"slide-caption":e["slide-caption"],"sub-title":e["sub-title"],src:e.src,alt:e.alt,"image-title":e["image-title"]})})):r("slot",null)),r("div",{class:"bar-container"},r("div",{class:"carousel-progress-values dxp-eyebrow-lg"},r("span",{class:"current-value",ref:function(t){return e.activeSlide=t}}," /"),r("span",{class:"max-value",ref:function(t){return e.totalSlides=t}})),r("div",{class:"carousel-progress-bar"},r("div",{class:"carousel-current-progress",ref:function(t){return e.carouselProgressbar=t}})),r("div",{class:"arrow-container"},r("div",{class:"prev-arrow",role:"button","aria-label":s.i18n.t("ImageCarousel:prev"),tabindex:"0",onClick:function(t){return e.prevSlide(t)},onKeyPress:function(t){return e.prevSlide(t)},ref:function(t){return e.prev=t}}),r("div",{class:"next-arrow",role:"button","aria-label":s.i18n.t("ImageCarousel:next"),tabindex:"0",onClick:function(t){return e.nextSlide(t)},onKeyPress:function(t){return e.nextSlide(t)},ref:function(t){return e.next=t}}))))};Object.defineProperty(e.prototype,"element",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"div.dxp.dxp-image-carousel{position:relative;overflow:hidden}div.dxp.dxp-image-carousel .carousel-container{height:0}div.dxp.dxp-image-carousel .image-wrapper{-webkit-transform:translateX(0);transform:translateX(0);opacity:0;position:absolute;top:0;overflow:hidden}div.dxp.dxp-image-carousel .image-wrapper:not(:first-child){width:0;-webkit-transform:translateX(-100px);transform:translateX(-100px)}div.dxp.dxp-image-carousel ::slotted(.image-wrapper){position:absolute;top:0;overflow:hidden}div.dxp.dxp-image-carousel ::slotted(.image-wrapper:not(:first-child)){width:0;-webkit-transform:translateX(-100px);transform:translateX(-100px)}div.dxp.dxp-image-carousel .nav-controls{position:absolute;z-index:10;right:0;left:0}div.dxp.dxp-image-carousel .bar-container{max-width:808px;margin:24px auto 0}div.dxp.dxp-image-carousel .bar-container>div{float:left}div.dxp.dxp-image-carousel .bar-container>div:last-child{float:right}div.dxp.dxp-image-carousel .bar-container:after{content:\"\";display:block;clear:both}div.dxp.dxp-image-carousel .carousel-progress-bar{position:relative;margin-left:16px;margin-top:12px;width:calc(100% - 135px);height:1px}div.dxp.dxp-image-carousel .carousel-current-progress{position:absolute;height:1px;width:0}div.dxp.dxp-image-carousel .arrow-container{display:-ms-flexbox;display:flex;margin-left:auto;margin-top:0;padding-bottom:1px;padding-right:1px}div.dxp.dxp-image-carousel .next-arrow,div.dxp.dxp-image-carousel .prev-arrow{display:inline-block;width:24px;height:24px;cursor:pointer}div.dxp.dxp-image-carousel .next-arrow{margin-left:12px}div.dxp.dxp-image-carousel .right{right:0}div.dxp.dxp-image-carousel .left{left:0}div.dxp.dxp-image-carousel .thumbnails{text-align:center}div.dxp.dxp-image-carousel .thumbnails .thumbnail{overflow:hidden;cursor:pointer;display:inline-block;width:90px;height:40px;margin:7px 3px}\@media (min-width:768px){div.dxp.dxp-image-carousel .carousel-progress-bar{width:calc(100% - 220px);margin-left:48px}div.dxp.dxp-image-carousel .next-arrow{margin-left:32px}}div.dxp.dxp-image-carousel[dir=rtl] .next{left:0;right:auto}div.dxp.dxp-image-carousel[dir=rtl] .carousel-progress-bar{margin-left:0;margin-right:16px}\@media (min-width:768px){div.dxp.dxp-image-carousel[dir=rtl] .carousel-progress-bar{margin-left:0;margin-right:48px}div.dxp.dxp-image-carousel[dir=rtl] .next-arrow{margin-left:0;margin-right:32px}}"},enumerable:true,configurable:true});return e}())}}}));