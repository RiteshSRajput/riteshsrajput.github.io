import{r as t,c as e,d as s,h as i,g as n}from"./p-8188e849.js";import{B as h}from"./p-16d6f0ca.js";import{m as a}from"./p-d4a6e2b8.js";const r=class{constructor(s){t(this,s),this.hasChildMenuItems=!0,this.toggleEmitter=e(this,"toggleEmitter",7)}subMenuChangeHandler(){this.base.createNestedMarkup(this.subMenuContainer,"dxp-sidebar-menu-item",this.child)}componentWillLoad(){this.base=new h(this,s),this.base.i18Init(s,"SidebarMenuGroup",a)}componentDidLoad(){this.subMenuChangeHandler();const t=this.base.shadowRootQuerySelector(this.element,"dxp-sidebar-menu-item",!0),e=t&&t.length?t:this.element.querySelectorAll("dxp-sidebar-menu-item");this.hasChildMenuItems=e.length>0}componentDidUpdate(){this.subMenuChangeHandler()}clickOutsideComponentEvent(t){(t.target||t.target)&&t.composedPath()[0]&&(this.toggle=!!("menu-item"===t.composedPath()[0].className||t.composedPath()[0].classList.contains("collapse-icon")||"caret-icon"===t.composedPath()[0].className||t.composedPath()[0].classList.contains("item-label")||t.composedPath()[0].classList.contains("item-icon")||t.composedPath()[0].classList.contains("menu-icon-image")||t.composedPath()[0].classList.contains("sub-item-label"))&&this.toggle)}handleKeyPress(t){const e=t.key||t.keyCode;" "!==e&&32!==e&&"Enter"!==e&&13!==e||this.toggleMenu(),this.preventDefaultAction(t,[32,37,38,39,40])}routingHandler(t){this.base.routingEventListener(t)}async collapse(){this.toggle=!1}async expand(){this.toggle=!0}preventDefaultAction(t,e){e.indexOf(t.key||t.keyCode)>-1&&t.preventDefault()}renderMenuItems(){return i("div",{class:`child-menu dxp-scrollable ${this.viewPopup&&this.toggle?"tool":this.toggle?"dxp-block":"dxp-none"}`,style:{"max-height":this.menuItemsListMaxHeight}},this.viewPopup&&this.toggle&&i("span",{class:"caret-icon"}),i("div",{class:"sub-menu-wrapper"},this.viewPopup&&i("span",{class:"item-heading dxp-flex"},this.menuTitle),i("div",{ref:t=>this.subMenuContainer=t},i("slot",null))))}toggleMenu(){const t=this.base.shadowRootQuerySelector(this.element,"a",!1);!this.hasChildMenuItems&&this.menuHref&&(t.setAttribute("href",this.menuHref),t.setAttribute("target","_blank")),this.toggleEmitter.emit(),this.toggle=!this.toggle}render(){s.log.debug(this.element.tagName,"render()","in dxp-sidebar-menu-group render() : DEVELOPMENT");const t=[i("link",{rel:"stylesheet",href:""}),[this.theme&&i("link",{rel:"stylesheet",href:""})],[this.theme&&i("link",{rel:"stylesheet",href:`${s.config.get("DXP_STYLE_BASE_URL")}/themes/${this.theme}/dxp-sidebar-menu.min.css`})]];return i("div",{class:this.base.componentClass(),dir:this.dir,"data-theme":this.theme},t,i("div",{class:"item-wrapper dxp-scrollable-container"},i("div",null,i("a",{tabindex:"0",title:this.menuTitle,onClick:()=>this.toggleMenu(),class:`menu-item ${this.toggle&&this.menuHref?"active":""} ${this.toggle&&this.hasChildMenuItems?"item-expanded active":""}`,"aria-expanded":this.toggle&&this.hasChildMenuItems?"true":"false"},i("span",{class:"item-icon dxp-flex"},i("img",{src:this.menuSrc,class:"menu-icon-image",alt:this.menuAlt})),i("span",{class:`item-label ${this.viewPopup?"dxp-none":"dxp-flex"}`},this.menuTitle,this.hasChildMenuItems&&i("i",{class:"caret-icon"})))),this.hasChildMenuItems&&this.renderMenuItems()),i("dxp-line",{type:"solid","border-color":"#d0d0d0","background-color":"transparent","height-xl":"1","height-lg":"1","height-md":"1","height-sm":"1"}))}get element(){return n(this)}static get watchers(){return{child:["subMenuChangeHandler"]}}static get style(){return"div.dxp.dxp-sidebar-menu-group .item-wrapper .child-menu{overflow-y:scroll}div.dxp.dxp-sidebar-menu-group .tool{-webkit-transform:translate3d(3.5rem,-3.25rem,6.25rem);transform:translate3d(3.5rem,-3.25rem,6.25rem);position:absolute;display:inline-block;padding-left:.5rem}div.dxp.dxp-sidebar-menu-group .tool .caret-icon{position:absolute;left:0;top:1rem}div.dxp.dxp-sidebar-menu-group .tool .sub-menu-wrapper{display:inline-block;min-width:10rem}div.dxp.dxp-sidebar-menu-group .tool .sub-menu-wrapper .item-heading{padding:.75rem 1.2rem}div.dxp.dxp-sidebar-menu-group .menu-item{padding:1.2rem;display:-ms-flexbox;display:flex;cursor:pointer}div.dxp.dxp-sidebar-menu-group .menu-item .item-icon{width:1.5rem;background-size:contain}div.dxp.dxp-sidebar-menu-group .menu-item .item-icon img{width:100%;height:100%}div.dxp.dxp-sidebar-menu-group .menu-item .item-label{padding-left:.88rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}div.dxp.dxp-sidebar-menu-group .menu-item .item-label .caret-icon{width:.5rem;height:1rem;-webkit-transition:-webkit-transform .2s ease-in;transition:-webkit-transform .2s ease-in;transition:transform .2s ease-in;transition:transform .2s ease-in,-webkit-transform .2s ease-in;margin-left:auto}div.dxp.dxp-sidebar-menu-group .menu-item.item-expanded .caret-icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}div.dxp.dxp-sidebar-menu-group .item-label{padding-left:.93rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex:1 1 auto;flex:1 1 auto}"}};export{r as dxp_sidebar_menu_group};