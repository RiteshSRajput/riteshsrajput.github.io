var __awaiter=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{a(n.next(e))}catch(t){o(t)}}function c(e){try{a(n["throw"](e))}catch(t){o(t)}}function a(e){e.done?r(e.value):i(e.value).then(s,c)}a((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(e){return function(t){return a([e,t])}}function a(s){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;i=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1];o=s;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(s);break}if(o[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(c){s=[6,c];i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js"],(function(e){"use strict";var t,r,n,i,o,s;return{setters:[function(e){t=e.r;r=e.c;n=e.d;i=e.h;o=e.g},function(e){s=e.B}],execute:function(){var c={en:{close:"Click to close region selector",countryLanguagePageText:"Other Country or Region"},"en-US":{close:"Click to close region selector",countryLanguagePageText:"Other Country or Region"},es:{close:"Haga clic para cerrar el selector de región",countryLanguagePageText:"Otro país o región"},"es-ES":{close:"Haga clic para cerrar el selector de región",countryLanguagePageText:"Otro país o región"}};var a=e("dxp_region_selector",function(){function e(e){t(this,e);this.buttonClick=r(this,"buttonClick",7)}e.prototype.componentWillLoad=function(){return __awaiter(this,void 0,void 0,(function(){var e,t;return __generator(this,(function(r){switch(r.label){case 0:this.base=new s(this,n);this.base.i18Init(n,"RegionSelector",c);if(document.querySelector('meta[name="country_code"]')){this.originCountry=document.querySelector('meta[name="country_code"]').getAttribute("content").toLowerCase().trim()}e=this;if(!(!this.compareLocales()&&!this.siteList))return[3,2];return[4,this.getSiteList()];case 1:t=r.sent();return[3,3];case 2:t=this.parseSiteList(JSON.parse(this.siteList));r.label=3;case 3:e.siteList=t;if(this.countryLanguagePageLink){this.siteList.push({text:this.countryLanguagePageText||n.i18n.t("RegionSelector:countryLanguagePageText"),link:this.countryLanguagePageLink})}return[2]}}))}))};e.prototype.onClick=function(){var e=this.element?this.element.querySelector("select"):this.element.querySelector("select");this.setCookie(this.siteList[e.selectedIndex].locale);window.location.href=this.siteList[e.selectedIndex].link};e.prototype.routingHandler=function(e){this.base.routingEventListener(e)};e.prototype.compareLocales=function(){return this.originCountry.toLowerCase().trim()===this.locale.toLowerCase().split("-")[1]};e.prototype.dismissRegionSelector=function(){this.element?this.element.querySelector(".dxp-region-selector").classList.add("dxp-none"):this.element.querySelector(".dxp-region-selector").classList.add("dxp-none")};e.prototype.getSiteList=function(){return __awaiter(this,void 0,void 0,(function(){var e,t;return __generator(this,(function(r){switch(r.label){case 0:if(!this.apiUrl)return[3,4];r.label=1;case 1:r.trys.push([1,3,,4]);e=this.parseSiteList;return[4,n.api(this.apiUrl)];case 2:return[2,e.apply(this,[r.sent()])];case 3:t=r.sent();n.log.error(this.element.tagName,"getSiteList()","fetch failed for "+this.apiUrl,t);return[3,4];case 4:return[2]}}))}))};e.prototype.parseSiteList=function(e){var t=this;var r=[];for(var n=0,i=e["regions"];n<i.length;n++){var o=i[n];o["countries"].forEach((function(e){if(e["countryCode"].toLowerCase()===t.originCountry.toLowerCase()){e["locales"].forEach((function(t){t["country"]=e["country"];t["countryCode"]=e["countryCode"];r.push(t)}))}}))}return r};e.prototype.setCookie=function(e){var t=this.cookieExpiryTime?this.cookieExpiryTime:7;var r=new Date;r.setTime(r.getTime()+t*24*60*60*1e3);var n="expires="+r.toUTCString();document.cookie="locale="+e+";"+n+";path=/"};e.prototype.render=function(){var e=this;if(!this.compareLocales()&&this.siteList){var t=[i("link",{rel:"stylesheet",href:n.config.get("DXP_STYLE_BASE_URL")+"/dxp.css"}),[this.theme&&i("link",{rel:"stylesheet",href:""})],[this.theme&&i("link",{rel:"stylesheet",href:n.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-region-selector.min.css"})]];return i("div",{class:this.base.componentClass(),dir:this.dir,"data-theme":this.theme},t,i("div",{class:"padding"},i("div",{class:"dxp-row"},i("div",{class:"dxp-col-12"},i("div",{class:"region-selector-wrapper"},i("div",{class:"dxp-col-sm-12 dxp-col-md-12 dxp-col-lg-6"},this.eyebrowText&&i("p",{class:"eyebrow-text",innerHTML:this.eyebrowText}),this.titleText&&i("p",{class:"title-text",innerHTML:this.titleText})),i("div",{class:"dxp-col-sm-12 dxp-col-md-12 dxp-col-lg-6"},i("div",{class:"close-icon",onClick:function(){return e.dismissRegionSelector()},onKeyUp:function(t){return t.keyCode===13&&e.dismissRegionSelector()}},i("span",{class:"dxp-icon dxp-icon-close","aria-label":n.i18n.t("RegionSelector:close"),tabIndex:3})),i("div",{class:"row-reverse dxp-col-sm-12"},this.buttonText&&i("div",{class:"cta-button",tabIndex:-1},i("dxp-cta",{type:"button","button-type":"secondary",text:this.buttonText,tabIndex:2})),i("div",{class:"select-button"},i("select",{tabIndex:1},this.siteList.map((function(e){if(e.hasOwnProperty("country")){return i("option",null,e["country"]+" - "+e["language"])}return i("option",null,e["text"])})))))))))))}};Object.defineProperty(e.prototype,"element",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"div.dxp.dxp-region-selector{z-index:999;position:fixed;top:0;width:100%}div.dxp.dxp-region-selector .padding{padding-top:2rem;padding-bottom:1.625rem}div.dxp.dxp-region-selector .region-selector-wrapper{width:100%}div.dxp.dxp-region-selector .region-selector-wrapper p{margin:0;padding:0}div.dxp.dxp-region-selector .region-selector-wrapper .eyebrow-text{font-size:.75rem;line-height:1rem;text-transform:uppercase;letter-spacing:.1125rem;text-align:left;margin-bottom:.275rem}div.dxp.dxp-region-selector .region-selector-wrapper .eyebrow-text:only-child{margin-top:1rem}div.dxp.dxp-region-selector .region-selector-wrapper .title-text{font-size:1rem;line-height:1.5rem}div.dxp.dxp-region-selector .region-selector-wrapper .title-text:only-child{margin-top:.75rem}div.dxp.dxp-region-selector .region-selector-wrapper .row-reverse{width:auto;float:right}div.dxp.dxp-region-selector .region-selector-wrapper .select-button{float:right}div.dxp.dxp-region-selector .region-selector-wrapper .select-button select{width:18rem;height:2.5rem;border-radius:.25rem;padding-right:2.4rem}div.dxp.dxp-region-selector .region-selector-wrapper .select-button select:focus{outline:none}div.dxp.dxp-region-selector .region-selector-wrapper .cta-button{float:right;margin-left:1rem}div.dxp.dxp-region-selector .region-selector-wrapper .close-icon{float:right}div.dxp.dxp-region-selector .region-selector-wrapper .close-icon .cta-with-icon{margin-left:.375rem}div.dxp.dxp-region-selector .region-selector-wrapper .close-icon .dxp-icon-close{font-size:1.1275rem;margin-top:.75rem;margin-left:1.7175rem;display:block}div.dxp.dxp-region-selector .region-selector-wrapper .close-icon .dxp-icon-close:focus{outline:1px solid}div.dxp.dxp-region-selector .region-selector-wrapper .dxp-btn-secondary:focus:before{border:0}\@media (max-width:992px){div.dxp.dxp-region-selector .region-selector-wrapper .row-reverse{margin-top:1.25rem;width:auto;padding-left:0;display:-webkit-flex;-webkit-flex-direction:row-reverse;display:-ms-flexbox;display:flex;-ms-flex-direction:row-reverse;flex-direction:row-reverse;float:left}div.dxp.dxp-region-selector .region-selector-wrapper .select-button{float:left;margin-bottom:.5rem}div.dxp.dxp-region-selector .region-selector-wrapper .cta-button{float:left}div.dxp.dxp-region-selector .region-selector-wrapper .close-icon{float:right;margin-top:-3.1875rem}}\@media (max-width:767px){div.dxp.dxp-region-selector .region-selector-wrapper .padding{padding-top:1.375rem;padding-bottom:1.5rem}div.dxp.dxp-region-selector .region-selector-wrapper .row-reverse{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}div.dxp.dxp-region-selector .region-selector-wrapper .cta-button{margin-left:0;margin-top:1rem}div.dxp.dxp-region-selector .region-selector-wrapper .eyebrow-text,div.dxp.dxp-region-selector .region-selector-wrapper .title-text{margin-right:3.5rem}div.dxp.dxp-region-selector .region-selector-wrapper .close-icon{margin-top:-4.85rem}}div.dxp.dxp-region-selector[dir=rtl] .region-selector-wrapper p:first-child{text-align:right}div.dxp.dxp-region-selector[dir=rtl] .region-selector-wrapper .row-reverse{display:-webkit-flex;-webkit-flex-direction:row-reverse;display:-ms-flexbox;display:flex;-ms-flex-direction:row-reverse;flex-direction:row-reverse}div.dxp.dxp-region-selector[dir=rtl] .region-selector-wrapper .cta-button{margin-left:auto;margin-right:1rem}div.dxp.dxp-region-selector[dir=rtl] .region-selector-wrapper .close-icon{float:left}\@media (max-width:992px){div.dxp.dxp-region-selector[dir=rtl] .region-selector-wrapper .row-reverse{float:right;padding-right:0}}\@media (max-width:767px){div.dxp.dxp-region-selector[dir=rtl] .region-selector-wrapper .row-reverse{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}div.dxp.dxp-region-selector[dir=rtl] .region-selector-wrapper .dxp-icon-close{margin-left:0}div.dxp.dxp-region-selector[dir=rtl] .region-selector-wrapper .cta-button{margin-right:0}}\@media (max-width:767px){div.dxp.dxp-region-selector .padding{padding-top:1.375rem;padding-bottom:1.5rem}}"},enumerable:true,configurable:true});return e}())}}}));