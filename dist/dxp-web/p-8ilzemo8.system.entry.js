System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js"],(function(e){"use strict";var t,i,r,s,a,n;return{setters:[function(e){t=e.r;i=e.c;r=e.d;s=e.h;a=e.g},function(e){n=e.B}],execute:function(){var l="aria-invalid";var h=e("dxp_textarea",function(){function e(e){t(this,e);this.isValid=true;this.isOptional=false;this.maxLength=100;this.minLength=0;this.value="";this.changeText=i(this,"changeText",7)}e.prototype.componentWillLoad=function(){this.base=new n(this,r);if(this.value&&this.value.trim().length===0){this.value=this.value.trim()}};e.prototype.handleFocus=function(){this.element?this.element.querySelector("textarea").setAttribute(l,"false"):this.element.querySelector("textarea").setAttribute(l,"false")};e.prototype.handleKey=function(e){if(["Backspace","Delete"].includes(e.key)){this.isBackspace=true;if(!this.value){if(this.required){this.isValid=false;this.element?this.element.querySelector("textarea").setAttribute(l,"true"):this.element.querySelector("textarea").setAttribute(l,"true")}}}};e.prototype.routingHandler=function(e){this.base.routingEventListener(e)};e.prototype.handleChange=function(e){if(e.key!=="Tab"){this.isValid=true;this.element?this.element.querySelector("textarea").setAttribute("aria-invalid","true"):this.element.querySelector("textarea").setAttribute("aria-invalid","true")}this.changeText.emit({value:e.target.value});this.value=e.target.value;if(this.isBackspace){if(this.value.length===0){if(!this.required){this.isValid=true;this.element?this.element.querySelector("textarea").setAttribute(l,"true"):this.element.querySelector("textarea").setAttribute(l,"true");this.isBackspace=false;return}}}if(this.value&&this.value.trim().length===0){this.value=this.value.trim();var t=[];t.push(this.isRequiredProvided(this.value));this.isValid=t.every((function(e){return e}))}else{this.isValid=this.isValidInput(this.value)}};e.prototype.isRequiredProvided=function(e){if(this.isOptional===true){return true}if(e===""){return false}return true};e.prototype.isValidInput=function(e){if(this.minLength!==0){var t=this.isValidMinLength(e);if(!t){return false}}if(this.maxLength!==0){var i=this.isValidMaxLength(e);if(!i){return false}}return this.isRequiredProvided(e)};e.prototype.isValidMaxLength=function(e){return e&&e!==""&&e.length<=this.maxLength};e.prototype.isValidMinLength=function(e){return e&&e!==""&&e.length>=this.minLength};e.prototype.render=function(){var e=this;r.log.debug(this.element.tagName,"render()","in dxp-textarea render() : "+"DEVELOPMENT");var t=[s("link",{rel:"stylesheet",href:""}),[this.theme&&s("link",{rel:"stylesheet",href:""})],[this.theme&&s("link",{rel:"stylesheet",href:r.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-textarea.min.css"})]];return s("div",{class:this.base.componentClass(),dir:this.dir,"data-theme":this.theme},t,s("label",{htmlFor:this.label,id:"textarea",class:this.disabled?"dxp-disabled":this.isValid?"":"dxp-error"},this.label,this.isOptional?s("span",{class:"dxp-optional"}," (Optional)"):""),s("textarea",{id:this.label,"aria-labelledby":"textarea",spellcheck:"true",class:(this.isValid?"":"has-error")+" "+(this.nonResizable?"no-resizable":"")+"\n          "+(!this.isValid&&!this.isOptional?"textarea form-control dxp-field-error":"textarea form-control"),"aria-invalid":"false","aria-multiline":"true",required:!this.isOptional,"aria-required":!this.isOptional,placeholder:this.placeholder,value:this.value,onKeyUp:function(t){return e.handleChange(t)},rows:this.rows,cols:this.cols,maxlength:this.maxLength,minlength:this.minLength,"aria-errormessage":"error",disabled:this.disabled,style:{width:this.width+"px"}}),this.isValid?"":s("div",{class:"dxp-error",id:"error","aria-label":this.validationMessage},this.validationMessage))};Object.defineProperty(e.prototype,"element",{get:function(){return a(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"div.dxp.dxp-textarea textarea{padding:.675rem .875rem;resize:auto}div.dxp.dxp-textarea textarea.no-resizable{resize:none}div.dxp.dxp-textarea label{font-size:.75rem;margin-bottom:.25rem;display:block}"},enumerable:true,configurable:true});return e}())}}}));