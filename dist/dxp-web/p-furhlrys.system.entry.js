var __awaiter=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function l(e){try{s(r["throw"](e))}catch(t){a(t)}}function s(e){e.done?n(e.value):i(e.value).then(o,l)}s((r=r.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(e){return function(t){return s([e,t])}}function s(o){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(a=o[0]&2?i["return"]:o[0]?i["throw"]||((a=i["return"])&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;if(i=0,a)o=[o[0]&2,a.value];switch(o[0]){case 0:case 1:a=o;break;case 4:n.label++;return{value:o[1],done:false};case 5:n.label++;i=o[1];o=[0];continue;case 7:o=n.ops.pop();n.trys.pop();continue;default:if(!(a=n.trys,a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){n.label=o[1];break}if(o[0]===6&&n.label<a[1]){n.label=a[1];a=o;break}if(a&&n.label<a[2]){n.label=a[2];n.ops.push(o);break}if(a[2])n.ops.pop();n.trys.pop();continue}o=t.call(e,n)}catch(l){o=[6,l];i=0}finally{r=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js","./p-b0cc7fef.system.js"],(function(e){"use strict";var t,n,r,i,a,o;return{setters:[function(e){t=e.r;n=e.d;r=e.h;i=e.g},function(e){a=e.B},function(e){o=e.C}],execute:function(){var l={en:{closeIcon:"Close navigation Menu"},"en-US":{closeIcon:"Close navigation Menu"},es:{closeIcon:"Hola Mundo"},"es-ES":{closeIcon:"Hola Mundo"}};var s=e("dxp_nav",function(){function e(e){t(this,e)}e.prototype.navigationDataHandler=function(){this.base.createNestedMarkup(this.navigationContainer,"dxp-nav-menu",this.navData.navigationData)};e.prototype.componentWillLoad=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r,i;return __generator(this,(function(s){switch(s.label){case 0:this.base=new a(this,n);if(!this.apiUrl)return[3,4];s.label=1;case 1:s.trys.push([1,3,,4]);e=this;return[4,n.api(this.apiUrl)];case 2:e.navData=s.sent();return[3,4];case 3:t=s.sent();n.log.error(this.element.tagName,"componentWillLoad()","fetch failed for "+this.apiUrl,t);return[3,4];case 4:this.utility=new o;this.base.i18Init(n,"Nav",l);r=this.element?this.element:this.element;i="";n.util.appendLinkElement(r,i);i="";n.util.appendLinkElement(r,i);i=n.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-nav.min.css";n.util.appendLinkElement(r,i);return[2]}}))}))};e.prototype.componentDidLoad=function(){this.base=new a(this,n);this.nav=this.element?this.element.querySelector("nav"):this.element.querySelector("nav");this.overlay=this.element?this.element.querySelector(".overlay"):this.element.querySelector(".overlay");if(this.navData){this.navigationDataHandler()}};e.prototype.childEventHandler=function(e){this.currentChild=e.detail;this.closeOverlayHandler()};e.prototype.documentClickEventHandler=function(e){var t=this.element.querySelector(".in")?this.element.querySelector(".in"):this.element.querySelector(".in");if(t&&!e.target.closest("dxp-nav")){this.utility.closeOverlay(t,this.element)}};e.prototype.hideMenuWithKeys=function(e){var t=e.target?e.composedPath()[0]:e.target;if(t.classList.contains("dxp-icon-close")){if(e.keyCode===32||e.keyCode===40||e.keyCode===13){this.utility.closeOverlay(this.currentNav,this.element)}}};e.prototype.keyDownEventHandler=function(e){var t=e.keyCode;var n=e.target?e.composedPath()[0]:e.target;if(n&&n.classList.contains("dxp-icon-close")){var r=this.element.querySelector(".expanded")?this.element.querySelector(".expanded"):this.element.querySelector(".expanded");var i=r.querySelectorAll("dxp-nav-item-content");var a=r.querySelectorAll("dxp-cta");if(!a.length){var o=r.querySelector("dxp-cta-list");a=o&&o?o.querySelectorAll("dxp-cta"):o&&o.querySelectorAll("dxp-cta")}e.preventDefault();if(t===38||t===37){if(i&&i.length>0){var l=i[i.length-1].querySelector(".sub-nav-item");this.focusElement(l);return}if(a&&a.length>0){var s=a[a.length-1]?a[a.length-1].querySelector("a"):a[a.length-1].querySelector("a");this.focusElement(s)}}if(t===9||t===40||t===39){if(a&&a.length>0){var s=a[0]?a[0].querySelector("a"):a[0].querySelector("a");this.focusElement(s);return}if(i&&i.length>0){var l=i[0].querySelector(".sub-nav-item");this.focusElement(l);return}}if(t===32||t===13){this.closeIconClickHandler()}}};e.prototype.navHeaderHandler=function(e){this.currentNav=e.detail};e.prototype.routingHandler=function(e){this.base.routingEventListener(e)};e.prototype.closeIconClickHandler=function(){if(this.overlay){this.utility.closeOverlay(this.currentNav,this.element)}};e.prototype.closeOverlayHandler=function(){if(this.currentChild.classList.contains("nav-item")||this.currentChild.nodeName==="DXP-CTA-LIST"||this.currentChild.closest("dxp-cta-list")||this.currentNav.closest(".nav-item-li")){return false}if(this.currentChild.parentElement.parentElement.classList.contains("quick-links-container")||this.currentChild.parentElement.parentElement.parentElement.parentElement.classList.contains("group-container")){return false}this.utility.closeOverlay(this.currentNav,this.element)};e.prototype.focusElement=function(e){e.focus()};e.prototype.render=function(){var e=this;n.log.debug(this.element.tagName,"render()","in dxp-nav render() : "+"DEVELOPMENT");return r("nav",{class:""+this.base.componentClass(),dir:this.dir,"data-theme":this.theme,role:"application"},r("ul",{class:"nav-ul",ref:function(t){return e.navigationContainer=t}},r("slot",null)),r("span",{role:"button",tabindex:"-1",class:"dxp-none dxp-icon dxp-icon-close","aria-label":n.i18n.t("Nav:closeIcon"),onClick:function(){e.closeIconClickHandler()}}),r("div",{class:"overlay overlay-container",onClick:function(){e.closeIconClickHandler()}},r("span",{class:"overlay-bg-img"}),r("span",{class:"overlay-bg-opacity"})))};Object.defineProperty(e.prototype,"element",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{navData:["navigationDataHandler"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"nav.dxp.dxp-nav{display:block;margin:0;padding:0;background:none}nav.dxp.dxp-nav .overlay-container{opacity:0;z-index:-1}nav.dxp.dxp-nav .overlay,nav.dxp.dxp-nav .overlay-bg-img,nav.dxp.dxp-nav .overlay-bg-opacity,nav.dxp.dxp-nav .overlay-container{position:fixed;height:100vh;top:0;right:0;bottom:0;left:0;pointer-events:none}nav.dxp.dxp-nav .overlay-bg-img{background-size:cover;background-repeat:no-repeat;background-position:50%}nav.dxp.dxp-nav .expanded{opacity:1;height:auto;pointer-events:all;visibility:visible}nav.dxp.dxp-nav .nav-ul{width:100%;left:0;margin-bottom:0}\@media (min-width:992px){nav.dxp.dxp-nav .dxp-icon-close{position:absolute;cursor:pointer;padding:.4375rem;border:.0625rem solid transparent;margin-top:5.4rem}nav.dxp.dxp-nav .nav-ul{width:auto;margin-top:0}nav.dxp.dxp-nav ::slotted(dxp-nav-menu){margin-right:1.6rem}nav.dxp.dxp-nav .dxp-nav-menu{margin-right:1.87rem}}\@media (max-width:767px){nav.dxp.dxp-nav .nav-ul{padding:12px 12px 16px 0}}\@media (max-width:991px){nav.dxp.dxp-nav .dxp-icon-close,nav.dxp.dxp-nav .overlay-container{display:none}}\@media (max-width:767px){nav.dxp.dxp-nav[dir=rtl] .nav-ul{padding:12px 0 16px 12px}}"},enumerable:true,configurable:true});return e}())}}}));