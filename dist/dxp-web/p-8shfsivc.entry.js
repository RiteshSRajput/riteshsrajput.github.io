import{r as t,c as e,d as s,h as i,g as r}from"./p-8188e849.js";import{B as l}from"./p-16d6f0ca.js";import{m as h}from"./p-f94dfad3.js";const a=class{constructor(s){t(this,s),this.alignment="horizontal",this.validationMessage="Please select required fields",this.checkboxData=e(this,"checkboxData",7),this.validationEvent=e(this,"validationEvent",7)}componentWillLoad(){if(this.base=new l(this,s),!this.checkboxId){const t=Math.floor(100*Math.random());this.checkboxId=`'dxp-checkbox-'${t}`}}componentDidLoad(){const t=this.required?`<span class="dxp-required">* </span><b>${this.name}</b>`:`${this.name}`;this.element.querySelector("label"),this.element.querySelector("label").innerHTML=t}routingHandler(t){this.base.routingEventListener(t)}async emitData(t){const e={name:t.name,value:t.value,isChecked:t.checked,id:this.checkboxId};if(this.checkboxData.emit(e),s.log.info(this.element.tagName,"emitData()",e),this.required)if(!1===t.checked){const e=this.element.querySelector(".checkbox-item"),s=document.createElement("p");s.className="dxp-error error-message sc-dxp-checkbox-group";const i=document.createTextNode(this.validationMessage);s.appendChild(i),e.appendChild(s),t.nextElementSibling.classList.add("checkbox-error"),this.isValid=!1}else{t.nextElementSibling.classList.remove("checkbox-error"),this.isValid=!0;const e=this.element.querySelector(".dxp-error");e&&e.remove()}}async reset(){this.checkboxElement.checked=!1}async setChecked(t){this.checkboxElement.checked=t}sendFlagToParent(){this.validationEvent.emit({flag:this.isValid,message:this.validationMessage})}render(){s.log.debug(this.element.tagName,"render()","in dxp-checkbox render() : DEVELOPMENT");const t=[i("link",{rel:"stylesheet",href:""}),[this.theme&&i("link",{rel:"stylesheet",href:""})],[this.theme&&i("link",{rel:"stylesheet",href:`${s.config.get("DXP_STYLE_BASE_URL")}/themes/${this.theme}/dxp-checkbox.min.css`})]];return i("div",{dir:this.dir,class:`${this.base.componentClass()} checkbox-item  ${this.alignment}`,"data-theme":this.theme},t,i("input",{ref:t=>this.checkboxElement=t,type:"checkbox",name:this.name,id:this.checkboxId,"aria-describedby":this.isValid?"error-message":void 0,onChange:t=>this.emitData(t.target),class:"checkbox",value:this.value,checked:this.checked,disabled:this.disabled}),i("label",{htmlFor:this.checkboxId,class:this.disabled?"dxp-disabled":""},this.required?i("span",{class:"dxp-required"},"* "):"",this.name,"â€Ž"),this.required?"horizontal"===this.alignment?this.sendFlagToParent():this.isValid?i("p",{class:"dxp-error",id:"errMsg"},this.validationMessage):"":void 0)}get element(){return r(this)}static get style(){return"div.dxp.dxp-checkbox{position:relative}div.dxp.dxp-checkbox.horizontal{display:inline-block;margin-right:.625rem}div.dxp.dxp-checkbox .checkbox-txt{margin-bottom:1.25rem}div.dxp.dxp-checkbox.vertical .select-all+label{left:1.625rem}div.dxp.dxp-checkbox.vertical input[type=checkbox]+label .dxp-required{display:inline-block}div.dxp.dxp-checkbox.vertical .dxp-error{padding-left:2.5rem}div.dxp.dxp-checkbox input[type=checkbox]{opacity:0;position:absolute;top:.375rem}div.dxp.dxp-checkbox input[type=checkbox]+label{padding-left:1.5rem;position:relative}div.dxp.dxp-checkbox input[type=checkbox]+label:before{content:\"\";display:inline-block;width:1rem;height:1rem;top:.0625rem;position:absolute;left:0;cursor:pointer}div.dxp.dxp-checkbox[dir=rtl].horizontal,div.dxp.dxp-checkbox[dir=rtl].horizontal .checkbox-item{margin-right:0;margin-left:.625rem}div.dxp.dxp-checkbox[dir=rtl].vertical+label{left:inherit;right:1.625rem}div.dxp.dxp-checkbox[dir=rtl] input[type=checkbox]+label{padding-left:0;padding-right:1.5rem}div.dxp.dxp-checkbox[dir=rtl] input[type=checkbox]+label:before{left:inherit;right:0}"}},o=class{constructor(e){t(this,e),this.isSubCategory=!1,this.showExpanded=!1}componentWillLoad(){this.base=new l(this,s),this.base.i18Init(s,"Faceted-Filter-Item",h)}componentDidLoad(){const t=this.element.querySelectorAll(".filter-item");this.element.querySelector(".item-title").innerHTML=`${this.itemTitle}&lrm;`,this.itemSubtitle&&(this.element.querySelector(".item-subtitle").innerHTML=`${this.itemSubtitle}&lrm;`),this.itemDescription&&(this.element.querySelector(".item-description").innerHTML=`${this.itemDescription}&lrm;`);const e=Array.prototype.slice.call(t);this.expandAndCollapse(this.element,e),this.showExpanded&&this.element.querySelector(".item-title").click()}expandCollapse(t){const e=t.keyCode,s=t.target?t.target.activeElement:t.target;[32,38,40].indexOf(t.keyCode)>-1&&t.preventDefault(),9===e&&t.target.classList.remove("dxp-no-outline"),13!==e&&32!==e||!s.classList.contains("filter-label")||this.toggleList(s)}routingHandler(t){this.base.routingEventListener(t)}expandAndCollapse(t,e){t&&e.forEach(t=>{t.addEventListener("click",t=>{(t.target.classList.contains("item-title")||t.target.classList.contains("item-subtitle")||t.target.classList.contains("filter-label")||t.target.parentElement.classList.contains("item-title"))&&this.toggleList(t.target)},!0)})}getParentOfClass(t,e){let s=t.parentElement;if(s){for(;s&&!s.classList.contains(e);)s=s.parentElement;return s}return!1}onmouseenter(){this.element.querySelectorAll("label")[0].classList.add("filter-hover")}onmouseleave(){this.element.querySelectorAll("label")[0].classList.remove("filter-hover")}toggleList(t){const e=this.getParentOfClass(t,"faceted-filter"),s=e.querySelector(".filter-content"),i=e.querySelector(".filter-label");i.classList.toggle("active"),i.classList.add("dxp-no-outline"),s.style.maxHeight?(s.removeAttribute("style"),s.parentElement.classList.remove("filter-item-select"),s.classList.remove("filter-top"),s.classList.add("dxp-none"),i.setAttribute("aria-pressed","false")):(s.parentElement.classList.add("filter-item-select"),s.classList.add("filter-top"),s.classList.remove("dxp-none"),i.setAttribute("aria-pressed","true"),s.style.maxHeight=`${s.scrollHeight}${s.offsetHeight}px`)}render(){return s.log.debug("in dxp-faceted-filter-item render() : DEVELOPMENT"),i("div",{class:this.base.componentClass(),dir:this.dir,"data-theme":this.theme},i("link",{rel:"stylesheet",href:""}),this.theme&&i("link",{rel:"stylesheet",href:""}),i("div",{class:"dxp-row"},i("div",{class:"dxp-col-12"},i("div",{class:"faceted-filter"},i("div",{class:"filter-item"},i("label",{class:`filter-label no-outline ${!0===this.isSubCategory?"sub-category":""}`,role:"button","aria-pressed":"false",tabindex:"0",onMouseEnter:this.onmouseenter.bind(this),onMouseLeave:this.onmouseleave.bind(this)},i("span",{class:"item-title"}),this.itemSubtitle&&i("span",{class:"item-subtitle"})),i("div",{class:"filter-content dxp-none"},i("slot",{name:"top"}),this.itemDescription&&i("p",{class:"item-description"}),i("slot",{name:"bottom"}),i("slot",null)))))))}get element(){return r(this)}static get style(){return"div.dxp.dxp-faceted-filter-item ol,div.dxp.dxp-faceted-filter-item ul{padding-left:.75rem}div.dxp.dxp-faceted-filter-item .filter-label,div.dxp.dxp-faceted-filter-item .filter-label .item-subtitle{display:block;cursor:pointer;position:relative;margin-bottom:0}div.dxp.dxp-faceted-filter-item .filter-label .item-subtitle{margin-top:.625rem;line-height:1.25rem;padding-right:1.25rem}div.dxp.dxp-faceted-filter-item .filter-label span{display:block;line-height:1.5rem;padding-right:1.25rem}div.dxp.dxp-faceted-filter-item .filter-label.active.filter-hover:before,div.dxp.dxp-faceted-filter-item .filter-label.active:before{-webkit-transform:rotate(90deg);transform:rotate(90deg);top:1.25rem;width:.09375rem}div.dxp.dxp-faceted-filter-item .filter-label.active.filter-hover:after,div.dxp.dxp-faceted-filter-item .filter-label.active:after{-webkit-transform:rotate(180deg);transform:rotate(180deg);top:1.84375rem;height:.09375rem}div.dxp.dxp-faceted-filter-item .filter-label:first-child{margin-top:0}div.dxp.dxp-faceted-filter-item .filter-label:after,div.dxp.dxp-faceted-filter-item .filter-label:before{content:\"\";position:absolute;-webkit-transition:-webkit-transform .25s ease-out;transition:-webkit-transform .25s ease-out;transition:transform .25s ease-out;transition:transform .25s ease-out,-webkit-transform .25s ease-out}div.dxp.dxp-faceted-filter-item .filter-label:before{top:1.5rem;right:1.9375rem;width:.125rem;height:1rem;margin-left:-.125rem}div.dxp.dxp-faceted-filter-item .filter-label:after{top:2.085rem;right:1.5rem;width:1rem;height:.09375rem;margin-top:-.125rem}div.dxp.dxp-faceted-filter-item .filter-bottom:after{top:2.085rem;right:1.5rem;width:1rem;height:.125rem;margin-top:-.125rem}div.dxp.dxp-faceted-filter-item .filter-bottom.active{border-bottom:none}div.dxp.dxp-faceted-filter-item .filter-content{max-height:0;overflow:hidden;-webkit-transition:max-height .2s ease-out;-o-transition:max-height .2s ease-out;transition:max-height .2s ease-out}div.dxp.dxp-faceted-filter-item[dir=rtl] .filter-label{padding:2rem 0}div.dxp.dxp-faceted-filter-item[dir=rtl] .filter-label:after{left:.375rem;right:auto}div.dxp.dxp-faceted-filter-item[dir=rtl] .filter-label:before{left:.96875rem;right:auto}div.dxp.dxp-faceted-filter-item[dir=rtl] .filter-label span{padding-left:2.5rem;padding-right:0}\@media (min-width:992px){div.dxp.dxp-faceted-filter-item .filter-label{padding:1rem 6.5rem 1rem 0}div.dxp.dxp-faceted-filter-item .filter-top{margin-top:.4375rem}div.dxp.dxp-faceted-filter-item .filter-item-select{margin-bottom:2.5rem}div.dxp.dxp-faceted-filter-item .filter-content p{padding:.5rem 1.85rem .5rem 0;margin-bottom:0}}\@media (max-width:575.9px){div.dxp.dxp-faceted-filter-item .filter-top{margin-top:1rem}div.dxp.dxp-faceted-filter-item .filter-label{padding:2rem 3.5rem 2rem 0;margin-bottom:0}div.dxp.dxp-faceted-filter-item .filter-label.active+div{padding-bottom:1rem}div.dxp.dxp-faceted-filter-item .filter-label:after{right:1.5rem}div.dxp.dxp-faceted-filter-item .filter-content{padding:0}}"}};export{a as dxp_checkbox,o as dxp_faceted_filter_item};