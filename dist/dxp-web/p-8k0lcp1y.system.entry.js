System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js","./p-13fc30a0.system.js"],(function(e){"use strict";var t,i,a,s,n,d,r;return{setters:[function(e){t=e.r;i=e.c;a=e.d;s=e.h;n=e.g},function(e){d=e.B},function(e){r=e.m}],execute:function(){var o=e("dxp_feedback_item",function(){function e(e){t(this,e);this.displayAs="star";this.analyticsDataEmitter=i(this,"dxp_feedback",7);this.emitfeedback=i(this,"emitfeedback",7);this.radioFeedback=i(this,"radioFeedback",7);this.starFeedback=i(this,"starFeedback",7)}e.prototype.componentWillLoad=function(){this.base=new d(this,a);this.base.i18Init(a,"Feedback",r);if(this.configData&&typeof this.configData==="string"){this.configData=JSON.parse(this.configData)}var e=this.element?this.element:this.element;var t="";a.util.appendLinkElement(e,t);t="";a.util.appendLinkElement(e,t);t=a.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-feedback.min.css";a.util.appendLinkElement(e,t)};e.prototype.dropdownChange=function(e){this.dropdownValSelected=e.target.value;this.emitAnalyticsData("Dropdown Feedback",this.dropdownValSelected);this.emitfeedback.emit({feedbackValue:this.dropdownValSelected,feedbackId:this.feedbackId})};e.prototype.emitAnalyticsData=function(e,t){var i={di_comp_name:this.element.tagName,di_comp_type:e,di_comp_value:t};this.analyticsDataEmitter.emit(i)};e.prototype.handleKeypressEvents=function(e){if(e.keyCode===13){this.handleStarRating(e)}};e.prototype.handleRadio=function(e){this.radioValue=e.target.id;this.emitAnalyticsData("Radio Feedback",this.radioValue);this.emitfeedback.emit({feedbackValue:this.radioValue,feedbackId:this.feedbackId})};e.prototype.handleStarRating=function(e){this.selectedIndex=e.target.getAttribute("custom-id")?e.target.getAttribute("custom-id"):undefined;this.starValue=Number(this.selectedIndex)+1;this.emitfeedback.emit({feedbackValue:this.starValue,feedbackId:this.feedbackId})};e.prototype.renderStars=function(){var e=this;var t=[];for(var i=0;i<this.starCount;i++){var n=i+1;t.push(s("span",{role:"radio","aria-checked":""+(this.selectedIndex>=0&&i<=this.selectedIndex?"true":"false"),class:""+(this.selectedIndex>=0&&i<=this.selectedIndex?"active":""),tabindex:"0","aria-label":this.selectedIndex>=0&&i<=this.selectedIndex?""+a.i18n.t("Feedback:starSelected",{starcount:this.starCount,stars:n}):""+a.i18n.t("Feedback:starNotSelected",{starcount:this.starCount,stars:n}),"custom-id":i,"tag-name":"dxp-star",onKeyPress:function(t){return e.handleKeypressEvents(t)},onClick:function(t){return e.handleStarRating(t)}}))}return t};e.prototype.render=function(){var e=this;return s("div",{class:"container "+this.base.componentClass(),dir:this.dir},s("div",{class:"feedback-item"},this.displayAs.trim().toLowerCase()==="star"&&s("div",{class:"rating"},this.feedbackRatingTitle&&this.feedbackRatingTitle.length>0&&s("div",null,this.feedbackRatingTitle),this.renderStars()),this.displayAs.trim().toLowerCase()==="dropdown"&&this.displayAs&&s("div",{class:"dropdown-wrapper"},this.feedbackRatingTitle&&this.feedbackRatingTitle.length>0&&s("div",null,this.feedbackRatingTitle),s("select",{class:"dropdown",onChange:function(t){return e.dropdownChange(t)}},s("option",{value:""}," ",this.placeholder),this.configData.map((function(e){return s("option",{value:e.key},e.key)})))),this.displayAs.trim().toLowerCase()==="radio"&&this.displayAs&&s("div",{class:"radio-wrapper"},s("dxp-radio-group",{label:this.feedbackRatingTitle},this.configData.map((function(t){return s("dxp-radio-button",{tabindex:"0","radio-key":t.key,"radio-value":t.value,onChange:function(t){return e.handleRadio(t)}})}))))))};Object.defineProperty(e.prototype,"element",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"div.dxp.dxp-feedback-item .rating{margin-bottom:1rem}div.dxp.dxp-feedback-item .rating span{margin:.5rem .2rem;cursor:pointer}div.dxp.dxp-feedback-item .rating h4,div.dxp.dxp-feedback-item .rating h6{margin-bottom:0}div.dxp.dxp-feedback-item .dropdown-wrapper,div.dxp.dxp-feedback-item .radio-wrapper{margin-bottom:1rem;width:100%}div.dxp.dxp-feedback-item .select-tiltle{margin-bottom:.75rem}div.dxp.dxp-feedback-item .textarea-wrapper{margin-top:.75rem}"},enumerable:true,configurable:true});return e}())}}}));