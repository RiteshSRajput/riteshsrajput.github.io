System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js"],(function(e){"use strict";var t,i,s,r,n,a;return{setters:[function(e){t=e.r;i=e.c;s=e.d;r=e.h;n=e.g},function(e){a=e.B}],execute:function(){var l={en:{selectAll:"Select All",more:"More",less:"Less"}};var c="dxp-checkbox";var o="set-alignment";var h="Checkbox:more";var d="Checkbox:less";var u=e("dxp_checkbox_group",function(){function e(e){t(this,e);this.items=[];this.flag=false;this.isValid=false;this.alignment="horizontal";this.required=false;this.selectAll=false;this.separatorRequired=false;this.onCheckboxSelect=i(this,"checkboxItemsData",7)}e.prototype.checkboxesChangeHandler=function(){this.items=this.base.createNestedMarkup(this.checkBoxContainer,c,this.checkboxItemsData)};e.prototype.componentWillLoad=function(){this.base=new a(this,s);this.base.i18Init(s,"Checkbox",l);var e=Math.floor(Math.random()*100);this.checkboxId="dxp-checkbox-"+e};e.prototype.componentDidLoad=function(){this.checkboxesChangeHandler();var e=this.items.length?this.items:this.element.querySelectorAll(c);if(e&&e.length){for(var t=0;t<e.length;t++){e[t].setAttribute(o,this.alignment);if(e[t].required){e[t].disabled=true;e[t].checked=true}if(this.initialItemsCount&&this.initialItemsCount!==0&&t>=this.initialItemsCount){e[t].setAttribute("style","display:none")}}}};e.prototype.handleClickEvent=function(e){this.base.routingEventListener(e);var t;if(e.target){var i=e.composedPath()[0];t=i.nodeName==="INPUT"?i:i?i.querySelector("input"):i.querySelector("input")}else{t=e.target}if(document.head.attachShadow){var s=this.element.querySelector("#"+this.checkboxId);var r=[];this.createCheckboxArray(r);this.updateCheckboxState(t,r,s)}else{var s=this.element.querySelector("[id='"+this.checkboxId+"']");var r=this.element.querySelectorAll(".checkbox");this.updateCheckboxState(t,r,s)}};e.prototype.handleValidationEvent=function(e){this.flag=e.detail.flag;if(this.flag){var t=this.element.querySelector(".error-messsage-parent");var i=document.createElement("p");i.className="dxp-error error-message sc-dxp-checkbox-group";var s=document.createTextNode(e.detail.message);i.appendChild(s);t.appendChild(i)}else{var r=this.element.querySelector(".dxp-error");if(r){r.remove()}}};e.prototype.checkboxCheckedStatus=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){var r=s[i];t.push(e[r].checked)}};e.prototype.checkboxDataHandler=function(e,t){if(e.includes(true)){var i=[];for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];if(t[a].checked){i.push({label:t[a].name,value:t[a].value})}}this.onCheckboxSelect.emit(i);s.log.info(this.element.tagName,"checkboxDataHandler()",i)}};e.prototype.createCheckboxArray=function(e){var t=this.items.length?this.items:this.element.querySelectorAll(c);for(var i=0,s=t;i<s.length;i++){var r=s[i];e.push(r.querySelector(".checkbox"))}};e.prototype.handleMore=function(e){var t=this.items.length?this.items:this.element.querySelectorAll(c);if(e.currentTarget.innerHTML===s.i18n.t(d)+'<i class="icons-sprite remove-icon"></i>'){e.currentTarget.innerHTML=s.i18n.t(h)+'<i class="icons-sprite add-icon"></i>';if(t&&t.length){for(var i=0;i<t.length;i++){if(this.alignment==="horizontal"){t[i].setAttribute("style","display:inline");t[i].setAttribute(o,this.alignment)}else{t[i].setAttribute("style","display:block");t[i].setAttribute(o,this.alignment)}if(i>=this.initialItemsCount){t[i].setAttribute("style","display:none");t[i].setAttribute(o,this.alignment)}}}}else{e.currentTarget.innerHTML=s.i18n.t("Checkbox:less")+'<i class="icons-sprite remove-icon"/>';for(var r=0,n=t;r<n.length;r++){var a=n[r];if(this.alignment==="vertical"){a.setAttribute("style","display:block");a.setAttribute(o,this.alignment)}else{a.setAttribute("style","display:inline");a.setAttribute(o,this.alignment)}}}};e.prototype.renderInitialItems=function(){var e=this;return this.checkboxItemsData?this.initialItemsCount<this.checkboxItemsData.length?r("a",{onClick:function(t){t.preventDefault();e.handleMore(t)},href:"javascript.void(0);",class:"action-link"},s.i18n.t(h),"‎",r("i",{class:"icons-sprite add-icon"})):"":this.initialItemsCount<this.element.querySelectorAll(c).length?r("a",{onClick:function(t){t.preventDefault();e.handleMore(t)},href:"javascript.void(0);",class:"action-link"},s.i18n.t(h),"‎",r("i",{class:"icons-sprite add-icon"})):""};e.prototype.renderSelectAll=function(){return this.selectAll===true?r("div",{class:"checkbox-item"},r("input",{type:"checkbox",name:"select-all",id:this.checkboxId,"aria-describedby":this.isValid?"error-message":undefined,class:"select-all",value:"Select All"}),r("label",{htmlFor:this.checkboxId,class:this.isValid?"checkbox-error":undefined},s.i18n.t("Checkbox:selectAll"),"‎")):""};e.prototype.selectAllCheckboxes=function(e,t,i){if(e&&t){for(var s=0,r=Object.keys(i);s<r.length;s++){var n=r[s];if(!i[n].disabled){i[n].checked=true;i[n].nextElementSibling.classList.remove("checkbox-error")}}}};e.prototype.selectAllElementChecked=function(e,t,i){if(!t.includes(false)&&i){i.checked=true}else if(!e&&i){i.checked=false}};e.prototype.showErrorMessage=function(){return r("p",{class:"caption","aria-required":this.required?"true":"","aria-invalid":"false"},this.caption,"‎",this.required?r("span",{class:"dxp-required"}," ",r("span",{"aria-hidden":"true"},"*")):"",this.required&&this.isValid&&this.alignment==="horizontal"?r("p",{class:"dxp-error",id:"error-message","aria-label":this.validationMessage},this.validationMessage):"")};e.prototype.uncheckAllCheckboxes=function(e,t,i){if(e&&!t){for(var s=0,r=Object.keys(i);s<r.length;s++){var n=r[s];if(!i[n].disabled){i[n].checked=false}}}};e.prototype.updateCheckboxState=function(e,t,i){var s=[];var r=e?e.nodeName:false;var n=e?e.classList.contains("select-all"):false;var a=e?e.checked:false;this.selectAllCheckboxes(n,a,t);this.uncheckAllCheckboxes(n,a,t);this.checkboxCheckedStatus(t,s);this.selectAllElementChecked(n,s,i);if(this.required&&r==="INPUT"){this.isValid=!s.includes(true)}this.checkboxDataHandler(s,t)};e.prototype.render=function(){var e=this;s.log.debug(this.element.tagName,"render()","rendering Checkbox component : "+"DEVELOPMENT");var t=[r("link",{rel:"stylesheet",href:""}),[this.theme&&r("link",{rel:"stylesheet",href:""})],[this.theme&&r("link",{rel:"stylesheet",href:s.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-checkbox.min.css"})]];return r("div",{class:this.base.componentClass()+" dxp-col-12 "+this.alignment,dir:this.dir,"data-theme":this.theme},t,r("div",{class:"error-messsage-parent"},this.showErrorMessage(),this.separatorRequired?r("dxp-line",{type:"line",height:2,"custom-class":"checkbox-seperator"}):"",this.renderSelectAll(),this.required&&this.isValid&&this.alignment==="vertical"?r("p",{class:"dxp-error",id:"error-message","aria-label":this.validationMessage},this.validationMessage):"",r("div",{class:"item-list",ref:function(t){return e.checkBoxContainer=t}},r("slot",null)),!this.initialItemsCount||this.initialItemsCount===0?"":this.renderInitialItems()))};Object.defineProperty(e.prototype,"element",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{checkboxItemsData:["checkboxesChangeHandler"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"div.dxp.dxp-checkbox-group input[type=checkbox]{opacity:0;position:absolute}div.dxp.dxp-checkbox-group .caption{margin-bottom:.25rem}div.dxp.dxp-checkbox-group dxp-line{margin-bottom:.6875rem;display:block}div.dxp.dxp-checkbox-group .checkbox-item{position:relative}div.dxp.dxp-checkbox-group .action-link{position:relative;padding-right:1.25rem;display:inline-block}div.dxp.dxp-checkbox-group .action-link i{position:absolute;top:1px;right:0}div.dxp.dxp-checkbox-group .select-all+label{padding-left:1.5rem;position:relative}div.dxp.dxp-checkbox-group .select-all+label:before{content:\"\";display:inline-block;width:1rem;height:1rem;top:.0625rem;position:absolute;left:0}div.dxp.dxp-checkbox-group .error-messsage-parent .error-message{padding-left:24px}div.dxp.dxp-checkbox-group.horizontal .checkbox-item{display:inline-block;margin-right:10px}div.dxp.dxp-checkbox-group.horizontal .item-list{display:inline-block}div.dxp.dxp-checkbox-group.vertical{display:block}div.dxp.dxp-checkbox-group.vertical .item-list{display:block;margin-top:.125rem}div.dxp.dxp-checkbox-group.vertical .item-list dxp-checkbox{margin-top:.125rem}div.dxp.dxp-checkbox-group.vertical .checkbox-item+.dxp-error{padding-left:1.625rem;margin:0}div.dxp.dxp-checkbox-group.vertical .action-link{margin-top:.5rem}div.dxp.dxp-checkbox-group[dir=rtl] input[type=checkbox]+label{padding-right:1.5rem;padding-left:0}div.dxp.dxp-checkbox-group[dir=rtl] input[type=checkbox]+label:before{margin-right:0;margin-left:1rem;left:inherit;right:0}div.dxp.dxp-checkbox-group[dir=rtl].horizontal .checkbox-item{margin-right:0;margin-left:.625rem}div.dxp.dxp-checkbox-group[dir=rtl].vertical .dxp-error{padding-left:0;padding-right:1.5rem}div.dxp.dxp-checkbox-group[dir=rtl] .action-link{padding-left:1.25rem;padding-right:0}div.dxp.dxp-checkbox-group[dir=rtl] .action-link i{right:inherit;left:0}"},enumerable:true,configurable:true});return e}())}}}));