import{r as t,d as e,h as i,g as s}from"./p-8188e849.js";import{B as r}from"./p-16d6f0ca.js";const a=class{constructor(e){t(this,e)}async componentWillLoad(){this.base=new r(this,e);const t=this.element;let i="";if(e.util.appendLinkElement(t,i),e.util.appendLinkElement(t,i=""),this.apiUrl){const t={mode:"cors",method:"get",headers:{"Content-Type":"text/plain"}};try{this.siteMapData=await e.api(this.apiUrl,t)}catch(s){e.log.error(`in dxp-site-map web service error: ${s}`)}}}componentDidLoad(){let t=this.element.querySelectorAll("dxp-site-map-group");if((t=Array.from(t)).length>0){t=t.slice(1,t.length);for(const e of t)e.setAttribute("show-line-between-groups",!0)}}routingHandler(t){this.base.routingEventListener(t)}getListItem(t,e){if(t)return i("dxp-site-map-list",null," ",t.map(t=>{if("true"!==t.hideInNav)return i("dxp-site-map-list-item",{heading:t.title,href:t.link,accessibility:`${t.title} link under ${e}`},t.child?this.getListItem(t.child,t.title):"")}))}getSiteMapGroup(){return this.siteMapData.pagesData.map(t=>{if("true"!==t.hideInNav)return i("dxp-site-map-group",{heading:t.title,href:t.link,accessibility:t.title},t.child?t.child.map(t=>this.getSiteMapGroupItem(t)):"")})}getSiteMapGroupItem(t){if("true"!==t.hideInNav)return i("dxp-site-map-group-item",{heading:t.title,href:t.link,accessibility:t.title},i("dxp-site-map-list",null,t.child?t.child.map(e=>{if("true"!==e.hideInNav)return i("dxp-site-map-list-item",{heading:e.title,href:e.link,accessibility:`${e.title} link under ${t.title}`},e.child&&0!==e.child.length?this.getListItem(e.child,e.title):"")}):""))}render(){e.log.debug(this.element.tagName,"render()","in dxp-site-map render() : DEVELOPMENT");const t=[i("link",{rel:"stylesheet",href:""}),[this.theme&&i("link",{rel:"stylesheet",href:""})],[this.theme&&i("link",{rel:"stylesheet",href:`${e.config.get("DXP_STYLE_BASE_URL")}/themes/${this.theme}/dxp-site-map.min.css`})]];return i("div",{class:this.base.componentClass(),dir:this.dir,"data-theme":this.theme},t,i("div",{class:"site-map"},i("div",{class:"heading-wrapper"},i("p",{class:"title dxp-title-6"},this.eyebrow),i("p",{class:"dxp-title-1 heading"},this.heading)),i("div",{class:"column-wrapper"},this.siteMapData&&0!==this.siteMapData.pagesData.length?this.getSiteMapGroup():i("slot",null))))}get element(){return s(this)}static get style(){return"div.dxp.dxp-site-map .heading-wrapper{width:100%;margin-bottom:5.75rem}div.dxp.dxp-site-map .column-wrapper{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}div.dxp.dxp-site-map .title{margin-bottom:.5625rem;letter-spacing:.1125rem}\@media (max-width:576px){div.dxp.dxp-site-map dxp-site-map-group{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}div.dxp.dxp-site-map .heading-wrapper{margin-bottom:3rem}}\@media (min-width:768px){div.dxp.dxp-site-map dxp-site-map-group{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}}\@media (min-width:992px){div.dxp.dxp-site-map dxp-site-map-group{-webkit-box-flex:0;-ms-flex:0 0 33%;flex:0 0 33%;max-width:33%}}\@media (min-width:1200px){div.dxp.dxp-site-map dxp-site-map-group{-webkit-box-flex:0;-ms-flex:0 0 33%;flex:0 0 33%;max-width:33%}}"}};export{a as dxp_site_map};