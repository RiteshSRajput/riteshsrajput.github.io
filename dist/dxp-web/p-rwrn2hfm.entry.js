import{r as t,d as i,h as s,g as e}from"./p-8188e849.js";import{B as h}from"./p-16d6f0ca.js";const o={en:{hello:"Hello World!"},"en-US":{hello:"Hello World! en-US"},es:{hello:"Hola Mundo!"},"es-ES":{hello:"Hola Mundo! es-ES"}},a=class{constructor(i){t(this,i),this.audioState={playing:!1},this.hostStyle={},this.autoplay=!1,this.defaultControls=!0,this.hidePlayPauseControl=!1,this.loop=!1,this.muted=!1,this.preload="auto",this.type="mpeg"}componentWillLoad(){this.base=new h(this,i),this.base.i18Init(i,"Audio",o),this.autoplay&&(this.audioState=Object.assign(Object.assign({},this.audioState),{playing:!0}))}componentDidLoad(){this.audioRef.addEventListener("ended",()=>{this.audioState=Object.assign(Object.assign({},this.audioState),{playing:!1})}),this.updateTopPosition()}windowResize(){this.updateTopPosition()}async toggleAudio(){this.audioState.playing?(this.audioState=Object.assign(Object.assign({},this.audioState),{playing:!1}),this.audioRef.pause()):(this.audioState=Object.assign(Object.assign({},this.audioState),{playing:!0}),await this.audioRef.play())}toggleMute(){this.muted=!this.muted}updateTopPosition(){if(this.position&&this.position.startsWith("top")){let t=document.querySelector("dxp-header");(t=t||document.querySelector("dxp-header-rich"))?t.componentOnReady().then(i=>{const s="dxp-header"===t.tagName.toLowerCase()?this.base.shadowRootQuerySelector(i,"header",!1):this.base.shadowRootQuerySelector(i,".header",!1);s&&(this.hostStyle=Object.assign(Object.assign({},this.hostStyle),{top:`${s.offsetHeight+5}px`}))}):document.querySelector("header")&&(this.hostStyle=Object.assign(Object.assign({},this.hostStyle),{top:`${document.querySelector("header").offsetHeight+5}px`}))}}render(){i.log.debug(this.element.tagName,"render()","in dxp-audio render() : DEVELOPMENT");const t=[s("link",{rel:"stylesheet",href:`${i.config.get("DXP_STYLE_BASE_URL")}/dxp.min.css`}),[this.theme&&s("link",{rel:"stylesheet",href:`${i.config.get("DXP_STYLE_BASE_URL")}/themes/${this.theme}/${this.theme}.min.css`})],[this.theme&&s("link",{rel:"stylesheet",href:`${i.config.get("DXP_STYLE_BASE_URL")}/themes/${this.theme}/dxp-audio.min.css`})]];return s("div",{style:this.hostStyle,class:`${this.base.componentClass()} ${this.position}`,dir:this.dir,"data-theme":this.theme},t,s("audio",{autoplay:this.autoplay,muted:this.muted,ref:t=>{this.audioRef=t},controls:!0,class:this.defaultControls?" ":"hide-default",loop:this.loop},s("source",{src:this.src,type:`audio/${this.type}`})),this.defaultControls?"":s("div",null,this.hidePlayPauseControl?"":s("a",{role:"button",href:"javascript:void(0)",onClick:()=>{this.toggleAudio()},"aria-label":this.ariaLabelPlayPause,class:"audio-control"},s("i",{class:`${this.audioState.playing?"pause-icon":"play-icon"}`})),this.hidePlayPauseControl&&!this.autoplay?s("a",{role:"button",href:"javascript:void(0)",onClick:()=>{this.toggleAudio()},"aria-label":this.ariaLabelPlayPause,class:"audio-control"},s("i",{class:`${this.audioState.playing?"unmute-icon":"mute-icon"}`})):s("a",{role:"button",href:"javascript:void(0)",onClick:()=>{this.toggleMute()},"aria-label":this.ariaLabelMuteUnmute,class:"audio-control"},s("i",{class:`${this.muted?"mute-icon":"unmute-icon"}`}))))}get element(){return e(this)}static get style(){return"div.dxp.dxp-audio{background-color:transparent;z-index:100}div.dxp.dxp-audio .audio-control{cursor:pointer;bottom:.9375rem;right:.9375rem;margin:.125rem;border-radius:50%;overflow:hidden;background-color:rgba(60,60,60,.35);-webkit-backdrop-filter:blur(1.25rem);backdrop-filter:blur(1.25rem)}div.dxp.dxp-audio .audio-control,div.dxp.dxp-audio .audio-control i{display:inline-block;height:2.5rem;width:2.5rem}div.dxp.dxp-audio.top-left{position:fixed;top:10px;left:10px}div.dxp.dxp-audio.top-right{position:fixed;top:10px;right:10px}div.dxp.dxp-audio.bottom-left{position:fixed;bottom:10px;left:10px}div.dxp.dxp-audio.bottom-right{position:fixed;bottom:10px;right:10px}div.dxp.dxp-audio .hide-default{display:none}"}};export{a as dxp_audio};