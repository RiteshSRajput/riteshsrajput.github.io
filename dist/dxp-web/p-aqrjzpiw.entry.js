import{r as e,d as s,h as t,g as l}from"./p-8188e849.js";import{B as i}from"./p-16d6f0ca.js";import{m as n}from"./p-e6e474dc.js";const r=class{constructor(s){e(this,s),this.nestedMenus=[]}componentWillLoad(){this.base=new i(this,s),this.base.i18Init(s,"PanelMenu",n)}keyDownHandler(e){13===e.keyCode&&this.focusedControl&&this.focusedControl.click()}routingHandler(e){this.base.routingEventListener(e)}async registerMenu(){this.activateDefaultMenu(),this.nestedMenus=[...this.getRenderedMenuItems()]}activateDefaultMenu(){const e=this.getRenderedMenuItems()&&this.getRenderedMenuItems().filter(e=>e&&e.active);if(e&&0===e.length){const e=this.getRenderedMenuItems()[0];e&&(e.active=!0)}}activateMenu(e){for(const s of this.nestedMenus)s.active=this.base.returnBooleanValue(e.isEqualNode(s));this.nestedMenus=[...this.nestedMenus]}getArrayFromNodeList(e){return[].slice.call(e)}getRenderedMenuItems(){let e=this.getArrayFromNodeList(this.element.querySelectorAll("dxp-panel-sub-menu"));return e.length>0?e:this.getArrayFromNodeList(this.element.childNodes).filter(e=>e.tagName&&"dxp-panel-sub-menu"===e.tagName.toLowerCase())}render(){const e=[t("link",{rel:"stylesheet",href:""}),[this.theme&&t("link",{rel:"stylesheet",href:""})],[this.theme&&t("link",{rel:"stylesheet",href:`${s.config.get("DXP_STYLE_BASE_URL")}/themes/${this.theme}/dxp-panel-menu.min.css`})]];return t("div",{class:this.base.componentClass(),dir:this.dir,"data-theme":this.theme},e,t("div",{class:"dxp-row"},t("div",{class:"panel-control-group panel-vertical"},this.nestedMenus.map(e=>t("div",{class:`panel-control ${e.active?"panel-control-active":""} ${this.fixedWidth?"panel-fixed-width":""}`,onClick:()=>this.activateMenu(e)},t("slot",{name:"top"}),t("div",{tabindex:"0",role:"button",class:"panel-title",onFocus:e=>this.focusedControl=e.target},t("div",{class:"dxp-row dxp-ml-0 dxp-mr-0 dxp-no-gutters"},t("div",{class:`dxp-text-truncate ${e.progressBar?"dxp-col-lg-6 dxp-col-md-8 dxp-col-sm-12":"dxp-col-12"}`},t("div",{class:"panel-icon-wrapper"},e.menuIconSrc?t("img",{src:e.menuIconSrc,alt:e.alt?e.alt:e.menuTitle}):""),t("span",{class:`${this.iconOnlySm?"icon-only-sm":""}`,title:e.menuTitle,innerHTML:e.menuTitle})),e.progressBar?t("div",{class:"dxp-col-lg-6 dxp-col-md-4 dxp-col-sm-12"},t("div",{class:"dxp-mt-3 dxp-ml-1"},t("dxp-progressbar",{type:"linear","background-color":"#F3F0EE","progress-color":e.progressColor,"current-value":e.currentValue,"max-value":e.maxValue,"have-description":"false",height:"5px"}))):"")),e.subMenu&&e.subMenu.split(",").length?t("div",{class:"subpanel-wrapper"},e.subMenu.split(",").map(s=>e.active?t("p",{class:"sub-menus ",title:s,"aria-label":s},s):"")):"")),t("slot",{name:"bottom"})),t("div",{class:"item-wrapper item-wrapper-vertical dxp-col-12"},t("div",null,this.menuItems?this.menuItems.map(e=>t("dxp-panel-sub-menu",{active:e.active,"menu-title":e.menuTitle,content:e.content,"menu-icon-src":e.menuIconSrc,alt:e.alt,"progress-bar":e.progressBar,"progress-color":e.progressColor,"current-value":e.currentValue,"max-value":e.maxValue,"sub-menu":e.subMenu})):t("slot",null)))))}get element(){return l(this)}static get style(){return"div.dxp.dxp-panel-menu{width:100%;padding:1rem}div.dxp.dxp-panel-menu .panel-control-group{width:100%;display:-ms-flexbox;display:flex;overflow-x:auto}div.dxp.dxp-panel-menu .panel-control-group.panel-vertical{display:inline-block;width:25%;padding-right:2.5rem;float:left}div.dxp.dxp-panel-menu .panel-control{text-align:left;background-color:inherit;border:none;outline:none;cursor:pointer;min-width:6.1875rem;background:transparent;border-radius:0;padding:0 12px;font-size:.875rem}div.dxp.dxp-panel-menu .panel-control.panel-fixed-width{width:100%}div.dxp.dxp-panel-menu .panel-control .panel-icon-wrapper{display:inline-block}\@media (max-width:767.9px){div.dxp.dxp-panel-menu .panel-control .panel-icon-wrapper{display:block}}div.dxp.dxp-panel-menu .panel-control .panel-icon-wrapper img{width:1.5rem;height:1.5rem;margin-right:.5rem}div.dxp.dxp-panel-menu .panel-control.panel-control-active .panel-title{border-bottom-width:6px;border-bottom-style:solid;outline:none}div.dxp.dxp-panel-menu .panel-control.panel-control-active .subpanel-wrapper{padding:1rem 0}div.dxp.dxp-panel-menu .panel-control.panel-control-active .subpanel-wrapper .sub-menus{margin-bottom:.5rem}div.dxp.dxp-panel-menu .panel-control.panel-control-active .subpanel-wrapper .sub-menus:last-child{margin-bottom:0}div.dxp.dxp-panel-menu .panel-control .panel-title{padding:.75rem .0625rem;height:100%}\@media (max-width:767.9px){div.dxp.dxp-panel-menu .panel-control .panel-title .icon-only-sm{display:none}}div.dxp.dxp-panel-menu .panel-control:not(.panel-control-active) .panel-title:focus,div.dxp.dxp-panel-menu .panel-control:not(.panel-control-active) .panel-title:hover{border-bottom-width:2px;border-bottom-style:solid}div.dxp.dxp-panel-menu .item-wrapper.item-wrapper-vertical{padding:0 0 2rem 1rem;width:calc(75% - 1.5rem);display:inline-block}div.dxp.dxp-panel-menu .item-wrapper .item-container{padding:3rem 0;border-top-width:1px;border-top-style:solid}\@media (max-width:767px){div.dxp.dxp-panel-menu .panel-control{font-size:.75rem;min-width:9rem}div.dxp.dxp-panel-menu .panel-control.panel-control-active .panel-title{border-bottom-width:4px}div.dxp.dxp-panel-menu .panel-control .panel-icon-wrapper img{margin-bottom:.5rem}}"}};export{r as dxp_panel_menu};