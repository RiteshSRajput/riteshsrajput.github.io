var __awaiter=this&&this.__awaiter||function(e,t,n,r){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r["throw"](e))}catch(t){i(t)}}function l(e){e.done?n(e.value):s(e.value).then(o,a)}l((r=r.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,s&&(i=o[0]&2?s["return"]:o[0]?s["throw"]||((i=s["return"])&&i.call(s),0):s.next)&&!(i=i.call(s,o[1])).done)return i;if(s=0,i)o=[o[0]&2,i.value];switch(o[0]){case 0:case 1:i=o;break;case 4:n.label++;return{value:o[1],done:false};case 5:n.label++;s=o[1];o=[0];continue;case 7:o=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){n.label=o[1];break}if(o[0]===6&&n.label<i[1]){n.label=i[1];i=o;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(o);break}if(i[2])n.ops.pop();n.trys.pop();continue}o=t.call(e,n)}catch(a){o=[6,a];s=0}finally{r=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r};System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js","./p-e5e87f52.system.js"],(function(e){"use strict";var t,n,r,s,i,o;return{setters:[function(e){t=e.r;n=e.d;r=e.h;s=e.g},function(e){i=e.B},function(e){o=e.m}],execute:function(){var a="dxp-panel-sub-menu";var l=e("dxp_panel_menu",function(){function e(e){t(this,e);this.nestedMenus=[]}e.prototype.componentWillLoad=function(){this.base=new i(this,n);this.base.i18Init(n,"PanelMenu",o)};e.prototype.keyDownHandler=function(e){if(e.keyCode===13&&this.focusedControl){this.focusedControl.click()}};e.prototype.routingHandler=function(e){this.base.routingEventListener(e)};e.prototype.registerMenu=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.activateDefaultMenu();this.nestedMenus=__spreadArrays(this.getRenderedMenuItems());return[2]}))}))};e.prototype.activateDefaultMenu=function(){var e=this.getRenderedMenuItems()&&this.getRenderedMenuItems().filter((function(e){return e&&e["active"]}));if(e&&e.length===0){var t=this.getRenderedMenuItems()[0];if(t){t["active"]=true}}};e.prototype.activateMenu=function(e){for(var t=0,n=this.nestedMenus;t<n.length;t++){var r=n[t];r["active"]=this.base.returnBooleanValue(e.isEqualNode(r))}this.nestedMenus=__spreadArrays(this.nestedMenus)};e.prototype.getArrayFromNodeList=function(e){return[].slice.call(e)};e.prototype.getRenderedMenuItems=function(){var e=this.element?this.getArrayFromNodeList(this.element.querySelectorAll(a)):this.getArrayFromNodeList(this.element.querySelectorAll(a));e=e.length>0?e:this.getArrayFromNodeList(this.element.childNodes).filter((function(e){return e["tagName"]&&e["tagName"].toLowerCase()===a}));return e};e.prototype.render=function(){var e=this;var t=[r("link",{rel:"stylesheet",href:""}),[this.theme&&r("link",{rel:"stylesheet",href:""})],[this.theme&&r("link",{rel:"stylesheet",href:n.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-panel-menu.min.css"})]];return r("div",{class:this.base.componentClass(),dir:this.dir,"data-theme":this.theme},t,r("div",{class:"dxp-row"},r("div",{class:"panel-control-group panel-vertical"},this.nestedMenus.map((function(t){return r("div",{class:"panel-control "+(t["active"]?"panel-control-active":"")+" "+(e.fixedWidth?"panel-fixed-width":""),onClick:function(){return e.activateMenu(t)}},r("slot",{name:"top"}),r("div",{tabindex:"0",role:"button",class:"panel-title",onFocus:function(t){return e.focusedControl=t.target}},r("div",{class:"dxp-row dxp-ml-0 dxp-mr-0 dxp-no-gutters"},r("div",{class:"dxp-text-truncate "+(t["progressBar"]?"dxp-col-lg-6 dxp-col-md-8 dxp-col-sm-12":"dxp-col-12")},r("div",{class:"panel-icon-wrapper"},t["menuIconSrc"]?r("img",{src:t["menuIconSrc"],alt:t["alt"]?t["alt"]:t["menuTitle"]}):""),r("span",{class:""+(e.iconOnlySm?"icon-only-sm":""),title:t["menuTitle"],innerHTML:t["menuTitle"]})),t["progressBar"]?r("div",{class:"dxp-col-lg-6 dxp-col-md-4 dxp-col-sm-12"},r("div",{class:"dxp-mt-3 dxp-ml-1"},r("dxp-progressbar",{type:"linear","background-color":"#F3F0EE","progress-color":t["progressColor"],"current-value":t["currentValue"],"max-value":t["maxValue"],"have-description":"false",height:"5px"}))):"")),t["subMenu"]&&t["subMenu"].split(",").length?r("div",{class:"subpanel-wrapper"},t["subMenu"].split(",").map((function(e){return t["active"]?r("p",{class:"sub-menus ",title:e,"aria-label":e},e):""}))):"")})),r("slot",{name:"bottom"})),r("div",{class:"item-wrapper item-wrapper-vertical dxp-col-12"},r("div",null,this.menuItems?this.menuItems.map((function(e){return r("dxp-panel-sub-menu",{active:e["active"],"menu-title":e["menuTitle"],content:e["content"],"menu-icon-src":e["menuIconSrc"],alt:e["alt"],"progress-bar":e["progressBar"],"progress-color":e["progressColor"],"current-value":e["currentValue"],"max-value":e["maxValue"],"sub-menu":e["subMenu"]})})):r("slot",null)))))};Object.defineProperty(e.prototype,"element",{get:function(){return s(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"div.dxp.dxp-panel-menu{width:100%;padding:1rem}div.dxp.dxp-panel-menu .panel-control-group{width:100%;display:-ms-flexbox;display:flex;overflow-x:auto}div.dxp.dxp-panel-menu .panel-control-group.panel-vertical{display:inline-block;width:25%;padding-right:2.5rem;float:left}div.dxp.dxp-panel-menu .panel-control{text-align:left;background-color:inherit;border:none;outline:none;cursor:pointer;min-width:6.1875rem;background:transparent;border-radius:0;padding:0 12px;font-size:.875rem}div.dxp.dxp-panel-menu .panel-control.panel-fixed-width{width:100%}div.dxp.dxp-panel-menu .panel-control .panel-icon-wrapper{display:inline-block}\@media (max-width:767.9px){div.dxp.dxp-panel-menu .panel-control .panel-icon-wrapper{display:block}}div.dxp.dxp-panel-menu .panel-control .panel-icon-wrapper img{width:1.5rem;height:1.5rem;margin-right:.5rem}div.dxp.dxp-panel-menu .panel-control.panel-control-active .panel-title{border-bottom-width:6px;border-bottom-style:solid;outline:none}div.dxp.dxp-panel-menu .panel-control.panel-control-active .subpanel-wrapper{padding:1rem 0}div.dxp.dxp-panel-menu .panel-control.panel-control-active .subpanel-wrapper .sub-menus{margin-bottom:.5rem}div.dxp.dxp-panel-menu .panel-control.panel-control-active .subpanel-wrapper .sub-menus:last-child{margin-bottom:0}div.dxp.dxp-panel-menu .panel-control .panel-title{padding:.75rem .0625rem;height:100%}\@media (max-width:767.9px){div.dxp.dxp-panel-menu .panel-control .panel-title .icon-only-sm{display:none}}div.dxp.dxp-panel-menu .panel-control:not(.panel-control-active) .panel-title:focus,div.dxp.dxp-panel-menu .panel-control:not(.panel-control-active) .panel-title:hover{border-bottom-width:2px;border-bottom-style:solid}div.dxp.dxp-panel-menu .item-wrapper.item-wrapper-vertical{padding:0 0 2rem 1rem;width:calc(75% - 1.5rem);display:inline-block}div.dxp.dxp-panel-menu .item-wrapper .item-container{padding:3rem 0;border-top-width:1px;border-top-style:solid}\@media (max-width:767px){div.dxp.dxp-panel-menu .panel-control{font-size:.75rem;min-width:9rem}div.dxp.dxp-panel-menu .panel-control.panel-control-active .panel-title{border-bottom-width:4px}div.dxp.dxp-panel-menu .panel-control .panel-icon-wrapper img{margin-bottom:.5rem}}"},enumerable:true,configurable:true});return e}())}}}));