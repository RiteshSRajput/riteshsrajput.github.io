System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js","./p-f9489366.system.js"],(function(e){"use strict";var t,s,l,n,i,r;return{setters:[function(e){t=e.r;s=e.d;l=e.h;n=e.g},function(e){i=e.B},function(e){r=e.m}],execute:function(){var a=".acc-content";var o="dxp-accordion-item";var c=".acc-label";var d="acc-item-select";var p=e("dxp_accordion",function(){function e(e){t(this,e);this.childElementCount=0;this.heading="";this.isHeaderRequired=true}e.prototype.accordionChangeHandler=function(){this.base.createNestedMarkup(this.accItemContainer,"dxp-accordion",this.items)};e.prototype.componentWillLoad=function(){this.base=new i(this,s);this.base.i18Init(s,"Accordion",r);if(this.items&&typeof this.items==="string"){this.items=JSON.parse(this.items)}};e.prototype.componentDidLoad=function(){if(this.items){var e=this.element.querySelectorAll(".expand-all");var t=this.element.querySelectorAll(".collapse-all");this.expandAndCollapse(this.element,e,t)}var s=this.element.querySelectorAll(o)&&this.element.querySelectorAll(o).length;var l=s?this.element.querySelectorAll(o):this.element.querySelectorAll(o);var n=l[l.length-1];if(n&&n){n.querySelector(c).classList.add("acc-bottom")}if(l&&l.length>0){this.childElementCount=l.length}};e.prototype.componentDidUpdate=function(){var e=this.element.querySelectorAll(".expand-all");var t=this.element.querySelectorAll(".collapse-all");this.expandAndCollapse(this.element,e,t)};e.prototype.expandCollapse=function(e){var t=this.getElementsByClass(c);var s=Array.prototype.slice.call(t);var l;var n;var i;var r=[32,38,40];var o=e.keyCode;n=e.target?e.target.activeElement:e.target;if(r.indexOf(e.keyCode)>-1){e.preventDefault()}if(o===9){n.classList.remove("dxp-no-outline")}l=this.getElementsByClass(a);i=this.getElementsByClass(c);if(n.classList.contains("expand-all")&&(o===32||o===13)){for(var p=0;p<i.length;p++){i[p].classList.add("active");i[p].parentElement.classList.add(d);l[p].classList.remove("dxp-none");l[p].style.maxHeight=l[p].scrollHeight+l[p].offsetHeight+"px"}}if(n.classList.contains("collapse-all")&&(o===32||o===13)){this.collapseAll(s,i,l)}};e.prototype.routingHandler=function(e){this.base.routingEventListener(e)};e.prototype.collapseAll=function(e,t,s){for(var l=0;l<e.length;l++){e[l].classList.remove("active");if(s[l]){s[l].removeAttribute("style");t[l].parentElement.classList.remove(d);t[l].classList.remove("active");s[l].classList.add("dxp-none")}}};e.prototype.expandAndCollapse=function(e,t,s){var l=this;var n;var i;if(e&&e.querySelectorAll(".toggle")){for(var r=0;r<t.length;r++){t[r].addEventListener("click",(function(){n=l.getElementsByClass(a);i=l.getElementsByClass(c);for(var e=0;e<n.length;e+=1){i[e].parentElement.classList.add(d);i[e].classList.add("active");n[e].classList.remove("dxp-none");n[e].style.maxHeight=n[e].scrollHeight+n[e].offsetHeight+"px"}}));s[r].addEventListener("click",(function(){n=l.getElementsByClass(a);i=l.getElementsByClass(c);for(var e=0;e<n.length;e+=1){i[e].parentElement.classList.remove(d);i[e].classList.remove("active");n[e].removeAttribute("style");n[e].classList.remove("acc-top");n[e].classList.add("dxp-none")}}))}}};e.prototype.getElementsByClass=function(e){var t=new Array;var s=this.element.querySelector("slot");if(s){s.assignedNodes().filter((function(s){if(s.nodeName!=="#text"){var l=s.querySelector(e);t.push(l)}}))}else{var l=this.element.querySelectorAll(o);for(var n=0,i=l;n<i.length;n++){var r=i[n];t.push(r.querySelector(e))}}return t};e.prototype.render=function(){var e=this;s.log.debug(this.element.tagName,"render()","in dxp-accordion render() : "+"DEVELOPMENT");var t=[l("link",{rel:"stylesheet",href:""}),[l("link",{rel:"stylesheet",href:s.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-accordion.min.css"})],[this.theme&&l("link",{rel:"stylesheet",href:""})]];return l("div",{class:this.base.componentClass(),dir:this.dir,"data-theme":this.theme},t,l("div",{class:"toggle"},l("div",{class:"dxp-row"},this.isHeaderRequired&&l("div",{class:"dxp-col-12"},l("p",{class:"title-wrapper"},l("span",{class:"dxp-text-eyebrow dxp-col-sm-6 dxp-col-12"},this.heading),this.childElementCount>1||this.items&&this.items.length>1?l("span",{class:"dxp-col-sm-6 dxp-col-12"},l("span",{tabindex:"0",class:"expand-all dxp-no-outline",role:"button"},s.i18n.t("Accordion:expandAll")),l("span",{class:"pipe-separator"}),l("span",{tabindex:"0",class:"collapse-all dxp-no-outline",role:"button"},s.i18n.t("Accordion:collapseAll"))):""))),this.items?this.items.map((function(e){return l("dxp-accordion-item",{"item-title":e.title,"item-subtitle":e.subtitle,"item-description":e.description,"show-expanded":e.showExpanded})})):l("div",{ref:function(t){return e.accItemContainer=t}},l("slot",null))))};Object.defineProperty(e.prototype,"element",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{items:["accordionChangeHandler"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"div.dxp.dxp-accordion dxp-accordion-item{display:block;width:100%}div.dxp.dxp-accordion .toggle .title-wrapper{padding-bottom:1.5rem;margin-bottom:2rem;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}div.dxp.dxp-accordion .toggle .title-wrapper>span{padding:0}div.dxp.dxp-accordion .toggle .title-wrapper>span:last-child{text-align:right}div.dxp.dxp-accordion .toggle .title-wrapper>span:only-child{text-align:left}div.dxp.dxp-accordion .toggle .expand-all{cursor:pointer}div.dxp.dxp-accordion .toggle .collapse-all{cursor:pointer;margin-left:.5625rem}div.dxp.dxp-accordion .pipe-separator:after{content:\"|\";padding-left:.75rem}\@media (max-width:575px){div.dxp.dxp-accordion .toggle .title-wrapper{border:none;margin-bottom:1rem}div.dxp.dxp-accordion .toggle .title-wrapper>span:first-child{padding-bottom:2rem}}div.dxp.dxp-accordion[dir=rtl] .toggle .title-wrapper>span:last-child{text-align:left}div.dxp.dxp-accordion[dir=rtl] .toggle .title-wrapper>span:only-child{text-align:right}"},enumerable:true,configurable:true});return e}())}}}));