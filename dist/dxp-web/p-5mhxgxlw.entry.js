import{r as t,c as i,d as s,h as e,g as a}from"./p-8188e849.js";import{B as o}from"./p-16d6f0ca.js";import{m as l}from"./p-7eaf9cd8.js";const r=class{constructor(s){t(this,s),this.maxPinError="",this.enteredValue="",this.isPinDisabled=!1,this.isPinned=!1,this.clickFilter=i(this,"clickFilter",7),this.filterGrid=i(this,"filterGrid",7),this.pinColumn=i(this,"pinColumn",7),this.sortGrid=i(this,"sortGrid",7)}componentWillLoad(){this.base=new o(this,s),this.base.i18Init(s,"DataGridFilter",l),this.setSelectedSort()}clickHandler(){this.clickFilter.emit("OTHER")}columnPinned(t){this.pinColumn.emit({cellKey:this.cellKey,status:t.detail.status})}inputEntered(t){this.enteredValue=t.detail.value}submitHandler(t){"filterButton"===t.target.getAttribute("btn-id")?this.filterDataGrid(t,"filtering",this.selectedValue,this.enteredValue):"clearButton"===t.target.getAttribute("btn-id")&&this.filterDataGrid(t,"remove-filter")}filterDataGrid(t,i,s,e){t.preventDefault(),this.filterGrid.emit({cellKey:this.cellKey,filterAction:i,filterCondition:s,filterValue:e})}handleSelect(t){this.selectedValue=t.target.value}setSelectedSort(){this.cellOptions&&this.cellOptions.sortOptions&&this.cellOptions.sortOptions[this.cellKey]&&(this.selectedSort=this.cellOptions.sortOptions[this.cellKey]),this.cellOptions.pinnedColumns&&(this.cellOptions.pinnedColumns[this.cellKey]||0===this.cellOptions.pinnedColumns[this.cellKey])?this.isPinned=!0:this.cellOptions.maxPinsReached&&(this.isPinDisabled=!0,this.maxPinError=`${s.i18n.t("DataGrid:maxPinExceededMsg")} ${Object.keys(this.cellOptions.pinnedColumns).length} ${s.i18n.t("DataGrid:columnsText")}`),this.cellOptions.filterOptions&&this.cellOptions.filterOptions[this.cellKey]&&(this.selectedValue=this.cellOptions.filterOptions[this.cellKey].filterCondition,this.enteredValue=this.cellOptions.filterOptions[this.cellKey].filterValue)}sortDataGrid(t,i){t.preventDefault(),t.currentTarget.classList.add("is-selected"),this.sortGrid.emit({cellKey:this.cellKey,sortAction:i})}render(){return e("div",{class:this.base.componentClass(),"data-theme":this.theme},e("div",{class:"options-wrapper"},e("a",{href:"javascript : void(0)",onClick:t=>this.sortDataGrid(t,"ascending"),class:`sort-btn ${"ascending"===this.selectedSort?"is-selected":""}`},e("i",{class:"btn-icon asc-icon"}),s.i18n.t("DataGrid:sortAscText")),e("a",{href:"javascript : void(0)",onClick:t=>this.sortDataGrid(t,"descending"),class:`sort-btn ${"descending"===this.selectedSort?"is-selected":""}`},e("i",{class:"btn-icon desc-icon"}),s.i18n.t("DataGrid:sortDescText")),e("a",{href:"javascript : void(0)",onClick:t=>this.sortDataGrid(t,"remove-sort"),class:"sort-btn"},e("i",{class:"btn-icon cross-icon"}),s.i18n.t("DataGrid:removeSortText"))),e("div",{class:"options-wrapper"},e("dxp-toggle-switch",{label:"Pin this column",description:this.maxPinError,"label-position":"left",checked:this.isPinned,disabled:this.isPinDisabled})),e("div",{class:"options-wrapper",ref:t=>{this.filterElement=t}},e("div",{class:"option-section"},e("div",{class:"dropdown-label"},s.i18n.t("DataGrid:filterConditionText")),e("select",{class:"dropdown",onChange:t=>this.handleSelect(t)},e("option",{value:"notSelected",selected:"notSelected"===this.selectedValue},s.i18n.t("DataGrid:selectText")),e("option",{value:"isEqualTo",selected:"isEqualTo"===this.selectedValue},s.i18n.t("DataGrid:isEqualToText")),e("option",{value:"isNotEqualTo",selected:"isNotEqualTo"===this.selectedValue},s.i18n.t("DataGrid:isNotEqualToText")))),e("div",{class:"option-section"},e("dxp-input",{type:"text",label:s.i18n.t("DataGrid:valueText"),value:this.enteredValue,"is-required":"true",disabled:"notSelected"===this.selectedValue||""===this.selectedValue||void 0===this.selectedValue,"max-length":"100","accessibility-text":"{dxp.i18n.t('DataGrid:filterAccesibilityText')}",placeholder:s.i18n.t("DataGrid:searchText")})),e("dxp-cta-list",{"title-text":"",orientation:"horizontal"},e("dxp-cta",{type:"button","btn-id":"filterButton",disabled:"notSelected"===this.selectedValue||""===this.selectedValue||void 0===this.selectedValue||""===this.enteredValue,"button-type":"primary",text:s.i18n.t("DataGrid:filter")}),e("dxp-cta",{type:"button","btn-id":"clearButton","button-type":"secondary",text:s.i18n.t("DataGrid:clear")}))))}get element(){return a(this)}static get style(){return"div.dxp.dxp-data-grid-filter{position:absolute;top:100%;-webkit-transform:translateY(1.25rem);transform:translateY(1.25rem);left:-.625rem;z-index:5;width:300px}div.dxp.dxp-data-grid-filter .options-wrapper{padding:1rem 1.5rem .12rem;word-break:break-word}div.dxp.dxp-data-grid-filter .options-wrapper .option-section,div.dxp.dxp-data-grid-filter .options-wrapper .sort-btn{margin-bottom:1rem}div.dxp.dxp-data-grid-filter .options-wrapper .dropdown-label{font-size:.75rem;margin-bottom:.5rem}div.dxp.dxp-data-grid-filter .options-wrapper .sort-btn{display:-ms-flexbox;display:flex}div.dxp.dxp-data-grid-filter .options-wrapper .sort-btn .btn-icon{display:inline-block;width:1.5rem;height:1.5rem;margin-right:1rem}"}};export{r as dxp_data_grid_filter};