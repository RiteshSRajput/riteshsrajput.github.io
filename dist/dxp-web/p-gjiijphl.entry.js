import{r as s,d as t,h as i,g as e}from"./p-8188e849.js";import{B as o}from"./p-16d6f0ca.js";import{m as a}from"./p-696ed2df.js";const n=class{constructor(t){s(this,t),this.isVideoShow=!1,this.backgroundType="image-background",this.iconType="light"}componentWillLoad(){this.base=new o(this,t),this.base.i18Init(t,"Tile",a)}handleUpkeyEvents(s){"escape"===(s.key||s.code).toLowerCase()&&this.isVideoShow&&(this.isVideoShow=!1)}routingHandler(s){this.base.routingEventListener(s)}closeIconClickHandler(){document.querySelector("body").style.overflow="unset",this.element.parentElement.parentElement.classList.remove("show-popup");const s=this.base.shadowRootQuerySelector(this.element,".popup");s.classList.remove("fadein"),s.classList.add("fadeout")}getContentOfVideo(){return i("div",{class:"content-video"},i("img",{class:"content-background-img",src:this.srcPoster,alt:t.i18n.t("Tile:videoPosterImageText")}),i("a",{class:"play-icon","aria-label":t.i18n.t("Tile:videoPlayBtnText"),onClick:s=>this.toggleVideo(!0,s)},i("img",{alt:"image",src:`https://asset.mastercard.com/dxp-ui/assets/images/icons/play-icon-${this.iconType}.png`})))}getVideoOverlay(){return document.querySelector("body").style.overflow="hidden",i("div",{class:"overlay-video-block"},i("a",{role:"button",class:"btn-close","aria-label":t.i18n.t("TileVideo:close"),onClick:s=>this.toggleVideo(!1,s)},i("span",{class:"dxp-icon dxp-icon-large dxp-icon-close white-cross-icon"})),i("div",{class:"align-middle"},i("dxp-video",{type:this.videoType,"icon-type":this.iconType,"src-video":this.src,"src-poster":this.srcPoster,autoplay:this.autoPlay,"disable-controls":this.disableControls,"video-name":this.videoName,"video-description":this.videoDescription,"video-upload-date":this.videoUploadDate})))}imageClickHandler(s){if(this.base.shadowRootQuerySelector(this.element,".content-video"))this.toggleVideo(!0,s);else{const s=this.element.parentElement.parentElement.style.getPropertyValue("left").match(/(-?[0-9\.]+)/g),t=Math.abs(s);if(!this.href){this.element.parentElement.parentElement.classList.add("show-popup");const s=this.base.shadowRootQuerySelector(this.element,".popup");s.style.left=`${t}px`,s.classList.remove("fadeout"),s.classList.add("fadein"),s.classList.remove("dxp-none")}}}toggleVideo(s,t){t.preventDefault(),this.isVideoShow=s,document.querySelector("body").style.overflow="unset"}render(){t.log.debug(this.element.tagName,"render()","in dxp-tile render() : DEVELOPMENT");const s=[i("link",{rel:"stylesheet",href:""}),[this.theme&&i("link",{rel:"stylesheet",href:""})],[this.theme&&i("link",{rel:"stylesheet",href:`${t.config.get("DXP_STYLE_BASE_URL")}/themes/${this.theme}/dxp-tile-grid.min.css`})]];return i("div",{class:`${this.base.componentClass()} ${this.isSquare?"square":""}`,dir:this.dir,"data-theme":this.theme},s,i("div",{class:"tile-container",tabindex:"1"},i("div",{class:"media-container",onClick:s=>!this.isSquare&&this.imageClickHandler(s)},"image-background"===this.backgroundType?i("dxp-image",{src:this.src,"src-lg":this.srcLg,"src-md":this.srcMd,responsive:this.responsive,href:this.href?this.href:"javascript:void(0)","open-in-new-tab":this.openInNewTab,"focal-point":this.focalPoint}," "):"video-background"===this.backgroundType&&this.getContentOfVideo(),i("div",{class:"cta"},this.badgeText&&i("div",{class:"badge"}," ",i("span",{class:"badge-cont"},i("span",{class:"badge-text"},this.badgeText))," "),this.eyebrowTitle&&i("p",{class:"dxp-title-eyebrow dxp-font-size-sm"},this.eyebrowTitle),this.tileCaption&&i("h5",{class:"dxp-title-4"},this.tileCaption),this.description&&i("p",{class:"desc dxp-font-size-sm"},this.description),i("slot",{name:"cta"})))),i("div",{class:"popup dxp-scrollable-container dxp-none"},i("button",{class:"dxp-icon dxp-icon-large dxp-icon-close","aria-label":t.i18n.t("Popup:closeIcon"),onClick:()=>{this.closeIconClickHandler()}}),i("div",{class:"popup-contents dxp-scrollable"},i("slot",null))),this.isVideoShow&&this.getVideoOverlay())}get element(){return e(this)}static get style(){return"div.dxp.dxp-tile.tile-3{width:50%}div.dxp.dxp-tile .video-container{position:fixed;top:0;bottom:0;left:0;right:0}div.dxp.dxp-tile .overlay-video-block{position:fixed;top:0;left:0;width:100%;min-height:100vh;z-index:998;-webkit-transition:opacity .3s ease-in 0s;transition:opacity .3s ease-in 0s}div.dxp.dxp-tile .overlay-video-block .align-middle{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:70vw;padding:0 5%}div.dxp.dxp-tile .overlay-video-block .btn-close{position:absolute;right:2%;top:2%;border:none;cursor:pointer;margin:5px 5px 0 0;z-index:2}div.dxp.dxp-tile .tile-container{height:100%;position:relative}div.dxp.dxp-tile .tile-container:hover{cursor:pointer;opacity:.5;filter:alpha(opacity=50)}div.dxp.dxp-tile .tile-container .content-background-img,div.dxp.dxp-tile .tile-container .media-container{height:536px}div.dxp.dxp-tile .tile-container .content-background-img .play-icon,div.dxp.dxp-tile .tile-container .media-container .play-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%)}div.dxp.dxp-tile .tile-container .content-background-img .play-icon img,div.dxp.dxp-tile .tile-container .media-container .play-icon img{width:72px;height:72px}div.dxp.dxp-tile .tile-container .badge{padding-bottom:14px}div.dxp.dxp-tile .tile-container .badge-cont{height:25px;width:52px;padding:.25rem .563rem}div.dxp.dxp-tile .tile-container .badge-text{height:15px;width:36px;text-align:center}div.dxp.dxp-tile .tile-container .dxp-title-4{margin-bottom:14px}div.dxp.dxp-tile .tile-container .cta{position:absolute;bottom:24px;left:32px;right:32px}div.dxp.dxp-tile .tile-container .cta .dxp-title-eyebrow{margin-bottom:12px}div.dxp.dxp-tile .tile-container .cta .desc{margin-bottom:15px}div.dxp.dxp-tile.square,div.dxp.dxp-tile .square{width:100%;height:392px;overflow:hidden}div.dxp.dxp-tile.square .image,div.dxp.dxp-tile .square .image{display:contents}div.dxp.dxp-tile.square div.cta,div.dxp.dxp-tile .square div.cta{position:absolute;bottom:24px;left:24px;right:24px}div.dxp.dxp-tile.square div.cta .badge,div.dxp.dxp-tile .square div.cta .badge{padding-bottom:14px}div.dxp.dxp-tile.square div.cta .badge-cont,div.dxp.dxp-tile .square div.cta .badge-cont{height:25px;width:52px;padding:.25rem .563rem}div.dxp.dxp-tile.square div.cta .badge-text,div.dxp.dxp-tile .square div.cta .badge-text{height:15px;width:36px;text-align:center}div.dxp.dxp-tile.square div.cta .dxp-title-eyebrow,div.dxp.dxp-tile .square div.cta .dxp-title-eyebrow{margin-bottom:20px}div.dxp.dxp-tile.square div.cta .dxp-title-4,div.dxp.dxp-tile .square div.cta .dxp-title-4{margin-bottom:24px}div.dxp.dxp-tile .popup{width:100%;height:536px;position:absolute;display:block;top:0;left:0;z-index:1}div.dxp.dxp-tile .popup:after{content:\"\";display:block;clear:both}div.dxp.dxp-tile .popup-contents{height:536px;position:relative;overflow-y:auto}div.dxp.dxp-tile .popup h1{float:left}div.dxp.dxp-tile .popup dxp-image{float:right;width:50%;height:400px;overflow:hidden}div.dxp.dxp-tile .popup .dxp-icon-close{position:absolute;right:32px;top:16px;z-index:9;background:transparent;border:none}div.dxp.dxp-tile .popup .image-overlay dxp-image{width:100%}\@-webkit-keyframes fadeout{0%{opacity:1}to{opacity:0}}\@keyframes fadeout{0%{opacity:1}to{opacity:0}}div.dxp.dxp-tile .popup.fadeout{animation:fadeout 1s ease-in forwards;-webkit-animation:fadeout 1s ease-in forwards;-moz-animation:fadeout 1s ease-in forwards;-ms-animation:fadeout 1s ease-in forwards;-o-animation:fadeout 1s ease-in forwards;pointer-events:none}\@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}\@keyframes fadein{0%{opacity:0}to{opacity:1}}div.dxp.dxp-tile .popup.fadein{animation:fadein 1s ease-in forwards;-webkit-animation:fadein 1s ease-in forwards;-moz-animation:fadein 1s ease-in forwards;-ms-animation:fadein 1s ease-in forwards;-o-animation:fadein 1s ease-in forwards}div.dxp.dxp-tile.dxp-scrollable-container{margin-top:0}div.dxp.dxp-tile.show-popup{position:static;z-index:999;left:0}div.dxp.dxp-tile.show-popup .popup{display:block}\@media screen and (max-width:767px){div.dxp.dxp-tile .tile-container .media-container{height:323px}div.dxp.dxp-tile .tile-container .media-container .content-video,div.dxp.dxp-tile .tile-container .media-container img.content-background-img{width:100%;height:323px}div.dxp.dxp-tile .tile-container .media-container .cta{bottom:30px;left:16px;right:16px}div.dxp.dxp-tile .tile-container .media-container .cta .desc{margin-bottom:15px}div.dxp.dxp-tile.square .media-container div.cta{position:absolute;bottom:100px;left:16px;right:16px}}\@media (min-width:768px){div.dxp.dxp-tile.square .tile-container .media-container{height:392px}div.dxp.dxp-tile.square .tile-container .content-video,div.dxp.dxp-tile.square .tile-container img.content-background-img{width:100%;height:392px}div.dxp.dxp-tile .tile-container.media-container{height:347px}}\@media (min-width:992px){div.dxp.dxp-tile .tile-container .media-container{height:536px}div.dxp.dxp-tile .tile-container .media-container .content-video,div.dxp.dxp-tile .tile-container .media-container img.content-background-img{width:100%;height:536px}}"}};export{n as dxp_tile};