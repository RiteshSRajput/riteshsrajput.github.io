import{r as e,d as s,h as t,g as i}from"./p-8188e849.js";import{B as h}from"./p-16d6f0ca.js";const n={en:{hamburger:"Open menu",closeMenu:"Collapse menu"},"en-US":{hamburger:"Open menu",closeMenu:"Collapse menu"},es:{hamburger:"Open menu",closeMenu:"Collapse menu"},"es-ES":{hamburger:"Open menu",closeMenu:"Collapse menu"}},a=class{constructor(t){e(this,t),this.isHeaderActive=!1,this.isLogoPresent=!1,this.isNavPresent=!1,this.isNavSearch=!1,this.menuState=s.i18n.t("HeaderRich:hamburger"),this.windowScrollBefore=0,this.backgroundType="transparent",this.isHeaderSticky=!1}componentWillLoad(){this.base=new h(this,s),this.base.i18Init(s,"HeaderRich",n),this.isLogoPresent=this.base.returnBooleanValue(this.element&&this.element.querySelector('[slot="logo"]')),this.isNavPresent=this.base.returnBooleanValue(this.element&&this.element.querySelector('[slot="nav"]')),this.isNavSearch=this.base.returnBooleanValue(this.element&&this.element.querySelector('[slot="search"]'))}componentDidLoad(){if(this.body=this.element.closest("body"),this.isLogoPresent){const e=this.element.querySelector("dxp-logo");e&&(e.querySelector(".dxp-logo").style.background="none")}this.isNavSearch&&this.alignNavSearch()}clickEventHandler(e){const t=e.target?e.composedPath()[0]:e.target,i=this.element.querySelector("dxp-search"),h=this.element.querySelector(".nav-search-container"),n=this.element.querySelector("header"),a=this.element.querySelector(".search-wapper"),r=t.classList,o=Array.from(this.element.querySelectorAll("dxp-cta-list"));let c,l,d;i&&(c=i.querySelector(".search-container"),l=i.querySelector(".search-icon"),d=i.querySelector(".search-wrapper-close-icon"));const p=["overlay","sub-nav-child-container","dxp-icon-close","search-wrapper-close-icon"];switch(!0){case r.contains("nav-item"):("xl"===this.base.getDeviceWidthType()||"lg"===this.base.getDeviceWidthType())&&t&&t.parentElement.classList.contains("in")?(this.isHeaderActive=!1,this.body.style.overflow="inherit",s.is.ipad()&&(this.body.style.position="relative")):(this.isHeaderActive=!0,this.body.style.overflow="hidden",s.is.ipad()&&(this.body.style.position="fixed"));break;case p.some(e=>r.contains(e)):const e=t.parentElement,i=e.classList.contains("search-box-outer-container");(!e.classList.contains("dxp-search")&&!i||!i&&r.contains("dxp-icon-close")||r.contains("search-wrapper-close-icon"))&&this.deactivateheader();break;case r.contains("dxp-icon-search"):if(this.body.style.overflow="hidden",s.is.ipad()&&(this.body.style.position="fixed"),this.isHeaderActive=!0,c){const e=c.querySelector(".overlay");e.classList.remove("dxp-none"),e.classList.add("dxp-block")}break;case r.contains("open")&&r.contains("hamburger-btn"):r.remove("open"),n.classList.add("transparent-bg"),this.isHeaderActive=!1,h.classList.remove("show"),a.style.display="none",this.menuState=s.i18n.t("HeaderRich:hamburger"),this.body.style.overflow="inherit";break;case r.contains("hamburger-btn"):r.add("open"),n.classList.remove("transparent-bg"),this.isHeaderActive=!0,h.classList.add("show"),c&&(c.classList.add("expand-container"),c.classList.remove("collapse-container")),o&&o.map(e=>{const s=e.querySelector("p");s&&s.classList.add("dxp-none")}),a&&a.classList.add("dxp-block"),this.changesInSearchComponent(c,l,d),this.menuState=s.i18n.t("HeaderRich:closeMenu"),this.body.style.overflow="hidden";break;default:(t.classList.contains("header")||t.classList.contains("header-container"))&&this.isHeaderActive&&this.deactivateheader(),s.log.error("No child element found")}}handleScroll(){if(this.isHeaderSticky){const e=this.element.querySelector(".dxp-header-sticky"),s=e.offsetHeight,t=document.body.offsetHeight,i=window.innerHeight,h=window.pageYOffset,n=this.windowScrollBefore-h;let a=parseInt(window.getComputedStyle(e).getPropertyValue("top"),10)+n;h<=0?e.style.top="0px":n>0?e.style.top=`${a>0?0:a}px`:n<0&&(e.style.top=h+i>=t-s?`${(a=h+i-t)<0?a:0}px`:`${Math.abs(a)>s?-s:a}px`),this.windowScrollBefore=h}}alignNavSearch(){this.element.querySelector("dxp-search").componentOnReady().then(e=>{if(e){const s=e.querySelector(".dxp-search");s&&(s.style.background="none")}})}changesInSearchComponent(e,s,t){if(e){e.classList.remove("dxp-none");const s=e.querySelector(".overlay");s.classList.remove("dxp-none"),s.classList.add("dxp-block"),e.classList.add("search-container-changes-header")}s&&s.classList.add("dxp-none"),t&&t.classList.add("dxp-none")}deactivateheader(){const e=this.base.returnBooleanValue("xl"===this.base.getDeviceWidthType()||"lg"===this.base.getDeviceWidthType());this.isHeaderActive=!e,"xl"!==this.base.getDeviceWidthType()&&"lg"!==this.base.getDeviceWidthType()||this.body.removeAttribute("style")}render(){const e=[t("link",{rel:"stylesheet",href:""}),[this.theme&&t("link",{rel:"stylesheet",href:""})],[this.theme&&t("link",{rel:"stylesheet",href:`${s.config.get("DXP_STYLE_BASE_URL")}/themes/${this.theme}/dxp-header-rich.min.css`})]];return t("header",{class:`transparent-bg ${"solid"===this.backgroundType?"solid":""} ${this.base.componentClass()} ${this.isHeaderActive?" active":""}\n        ${this.isHeaderSticky?" dxp-header-sticky":""}`,dir:this.dir,"data-theme":this.theme},e,t("div",{class:`dxp-content-main ${"transparent"===this.backgroundType?"transparent":""} header-container`},t("div",{class:"dxp-row"},t("div",{class:"dxp-col-12"},t("div",{class:"header"},this.isLogoPresent&&t("div",{ref:e=>this.headerContainer=e,class:"logo-container"},t("slot",{name:"logo"})),(this.isNavPresent||this.isNavSearch)&&[t("div",{ref:e=>this.headerContainer=e,class:"nav-search-container"},t("div",{class:"nav-wrapper"},t("slot",{name:"nav"})),t("div",{class:"search-wapper"},t("slot",{name:"search"}))),t("div",{id:"hamburger-btn",class:"hamburger-btn hamburger","aria-label":s.i18n.t(`HeaderRich:${this.menuState}`),tabindex:"0",role:"button"},t("span",null))])))))}get element(){return i(this)}static get style(){return"header.dxp.dxp-header-rich{position:absolute;z-index:999;top:0;background:none;width:100%}header.dxp.dxp-header-rich .header{position:relative;display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center;z-index:1;height:3.5rem}header.dxp.dxp-header-rich .header .logo-container{width:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}header.dxp.dxp-header-rich .header .hamburger{height:.833rem;width:1.5rem;position:absolute;top:1.5rem;right:36px;cursor:pointer;-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg);-webkit-transition:.1s ease-in-out;-moz-transition:.1s ease-in-out;-o-transition:.1s ease-in-out;transition:.1s ease-in-out}\@media (max-width:991px){header.dxp.dxp-header-rich .header .hamburger{right:36px}}\@media (max-width:767px){header.dxp.dxp-header-rich .header .hamburger{right:16px}}header.dxp.dxp-header-rich .hamburger-btn span{content:\"\";display:block;position:absolute;width:100%;left:0;pointer-events:none;-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}header.dxp.dxp-header-rich .hamburger-btn span:after,header.dxp.dxp-header-rich .hamburger-btn span:before{content:\"\";display:block;width:100%;position:absolute;top:.375rem;left:0}header.dxp.dxp-header-rich .hamburger-btn span:after{top:.75rem}header.dxp.dxp-header-rich .hamburger-btn.open span{-webkit-transform:rotate(45deg);transform:rotate(45deg);top:.375rem}header.dxp.dxp-header-rich .hamburger-btn.open span:before{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);top:0}header.dxp.dxp-header-rich .hamburger-btn.open span:after{border:0}\@media (min-width:992px){header.dxp.dxp-header-rich .header{height:6.5rem}header.dxp.dxp-header-rich .header .logo-container{width:auto}header.dxp.dxp-header-rich .header .logo-container+.nav-container{margin-left:1.25rem}header.dxp.dxp-header-rich .header .hamburger{display:none}header.dxp.dxp-header-rich .nav-search-container{-ms-flex-align:center;align-items:center;margin-left:auto;display:-ms-flexbox;display:flex}}\@media (max-width:991px){header.dxp.dxp-header-rich.transparent-bg{background:none}header.dxp.dxp-header-rich .header{display:block;padding:15px 0;position:relative}header.dxp.dxp-header-rich .header .search-wapper{display:none}header.dxp.dxp-header-rich .nav-search-container{width:100%;min-height:calc(100vh - 3.5rem);overflow-y:auto;opacity:0;-webkit-transition:opacity 1s ease-out;transition:opacity 1s ease-out;pointer-events:none}header.dxp.dxp-header-rich .nav-search-container.show{pointer-events:all}header.dxp.dxp-header-rich .nav-search-container .nav-wrapper{position:relative;z-index:1}header.dxp.dxp-header-rich .nav-search-container .search-wapper{position:relative;z-index:0}header.dxp.dxp-header-rich .nav-search-container.show{opacity:1}}\@media (max-width:767px){header.dxp.dxp-header-rich .dxp-col-12{padding:0}header.dxp.dxp-header-rich .dxp-row{margin:0}header.dxp.dxp-header-rich .logo-container{padding:0 16px}header.dxp.dxp-header-rich .nav-wrapper{padding:12px 0 16px 16px}}\@media (min-width:768px) and (max-width:991px){header.dxp.dxp-header-rich .dxp-col-12{padding:0}header.dxp.dxp-header-rich .dxp-row{margin:0}header.dxp.dxp-header-rich .logo-container{padding:0 36px}header.dxp.dxp-header-rich .nav-wrapper{padding:32px 34px 16px 36px}header.dxp.dxp-header-rich .search-wapper{margin:0 20px}}header.dxp.dxp-header-rich.solid{position:relative}header.dxp.dxp-header-rich.dxp-header-sticky{position:fixed}header.dxp.dxp-header-rich[dir=rtl] .hamburger{right:auto;left:36px}\@media (max-width:767px){header.dxp.dxp-header-rich[dir=rtl] .hamburger{left:16px}}\@media (min-width:992px){header.dxp.dxp-header-rich[dir=rtl] .header .logo-container+.nav-container{margin-left:auto;margin-right:.9375rem}header.dxp.dxp-header-rich[dir=rtl] .header .nav-search-container{margin-right:auto;margin-left:inherit}header.dxp.dxp-header-rich[dir=rtl] .header .nav-search-container .nav-wrapper{padding:12px 16px 16px 0}}\@media (max-width:767px){header.dxp.dxp-header-rich[dir=rtl] .search-wapper{margin-left:12px}header.dxp.dxp-header-rich[dir=rtl] .dxp-col-12{padding:0 16px}}"}};export{a as dxp_header_rich};