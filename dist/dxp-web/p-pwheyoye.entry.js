import{r as t,c as i,d as s,h as a,g as e}from"./p-8188e849.js";import{B as n}from"./p-16d6f0ca.js";import{m as h}from"./p-7eaf9cd8.js";const o=class{constructor(s){t(this,s),this.currentPageIndex=1,this.toPageNumber=i(this,"toPageNumber",7)}totalRowsChangeHandler(t,i){if(t!==i){const t=this.totalRows%this.totalRowsPerPage>0?1:0;this.totalPages=Math.floor(this.totalRows/this.totalRowsPerPage)+t,this.currentPageIndex=1,this.updateDataGridIndex()}}componentWillLoad(){this.isValidPageNumber=!0,this.base=new n(this,s),this.base.i18Init(s,"GridPagination",h);const t=this.element;let i="";s.util.appendLinkElement(t,i),s.util.appendLinkElement(t,i=""),i=`${s.config.get("DXP_STYLE_BASE_URL")}/themes/${this.theme}/dxp-data-grid.min.css`,s.util.appendLinkElement(t,i),this.validationMessage="Please enter a valid page number between "}componentDidLoad(){const t=this.totalRows%this.totalRowsPerPage>0?1:0;this.totalPages=Math.floor(this.totalRows/this.totalRowsPerPage)+t}inputEntered(t){this.gotoPage(t)}getTextForCurrentPage(){if(this.currentPageIndex<=this.totalPages&&this.currentPageIndex>=1)return this.firstRowIndex=(this.currentPageIndex-1)*this.totalRowsPerPage+1,this.lastRowIndex=this.currentPageIndex===this.totalPages?this.totalRows:this.firstRowIndex+this.totalRowsPerPage-1,`${s.i18n.t("GridPagination:displayingText")} (${this.firstRowIndex}-${this.lastRowIndex} ${s.i18n.t("GridPagination:ofTxt")} ${this.totalRows})`}gotoPage(t){t.preventDefault(),this.isValidPageNumber=!0;const i=t.target;if(i.classList.contains("icon-next"))this.currentPageIndex<this.totalPages&&this.currentPageIndex++;else if(i.classList.contains("icon-previous"))this.currentPageIndex>1&&this.currentPageIndex--;else if(i.classList.contains("icon-first"))this.currentPageIndex=1;else if(i.classList.contains("icon-last"))this.currentPageIndex=this.totalPages;else if(t.detail.value){const i=Number(t.detail.value);i<=this.totalPages&&i>=1?this.currentPageIndex=i:(this.currentPageIndex=i,this.isValidPageNumber=!1)}this.isValidPageNumber&&(this.updateDataGridIndex(),this.toPageNumber.emit({toPageNumber:this.currentPageIndex,firstRowIndex:this.firstRowIndex,lastRowIndex:this.lastRowIndex}))}updateDataGridIndex(){this.firstRowIndex=this.currentPageIndex*this.totalRowsPerPage-this.totalRowsPerPage,this.lastRowIndex=this.currentPageIndex*this.totalRowsPerPage,this.lastRowIndex=this.totalRows<this.lastRowIndex?this.totalRows:this.lastRowIndex}render(){return s.log.debug(this.element.tagName,"render()","in dxp-data-grid-row render() : DEVELOPMENT"),a("div",{class:`${this.base.componentClass()} grid-pagination`,"data-theme":this.theme,style:{width:this.width||"auto"}},this.showPaginationSection&&a("div",{class:"paging-panel"},a("span",{class:"paging-page-summary-panel"},a("a",{href:"javascript : void(0)",role:"button",onClick:t=>this.gotoPage(t),title:s.i18n.t("GridPagination:firstText"),class:"item-icon icon-first"}),a("a",{href:"javascript : void(0)",role:"button",onClick:t=>this.gotoPage(t),title:s.i18n.t("GridPagination:previousText"),class:"item-icon icon-previous"}),s.i18n.t("GridPagination:pageTxt")," ",a("span",{class:"paging-text input"},a("dxp-input",{type:"number","content-id":"manual-enter-input","is-required":"false",min:"1",max:this.totalPages?this.totalPages.toString():"",label:"","enable-autocomplete":"off",readonly:!1,value:this.currentPageIndex,disabled:!1}))," ",s.i18n.t("GridPagination:ofTxt")," ",a("span",null,this.totalPages),a("a",{href:"javascript : void(0)",role:"button",onClick:t=>this.gotoPage(t),title:s.i18n.t("GridPagination:nextText"),class:"item-icon icon-next"}),a("a",{href:"javascript : void(0)",role:"button",onClick:t=>this.gotoPage(t),title:s.i18n.t("GridPagination:lastText"),class:"item-icon icon-last"})),this.isValidPageNumber?a("span",{class:"paging-row-summary-panel"},this.getTextForCurrentPage()):a("div",{class:"input-error","aria-label":this.validationMessage},this.validationMessage," 1 and ",this.totalPages)))}get element(){return e(this)}static get watchers(){return{totalRows:["totalRowsChangeHandler"]}}static get style(){return".paging-panel{line-height:1.4rem}\@media (max-width:993px){.paging-panel>span{font-size:.75rem}}.paging-panel{padding:2rem 0 .75rem;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.paging-panel>span{margin-right:1rem}.paging-panel .item-icon{display:inline-block;width:.75rem;height:1rem;margin-right:.5rem}.paging-button{position:relative}.paging-text input{width:100%}.paging-text dxp-input{position:relative;display:-ms-inline-flexbox;display:inline-flex;bottom:1.4rem}.paging-page-summary-panel{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.paging-page-summary-panel .paging-button{position:relative}.paging-page-summary-panel .paging-button button{position:absolute;cursor:pointer;opacity:0;top:0;right:0;bottom:0;left:0}.paging-page-summary-panel span{margin:0 .25rem}.input-error{color:#d02d35;padding:.625rem 0 0;font-size:.75rem;float:right}.input{display:inline-block;width:4rem;height:2.7rem}"}};export{o as dxp_grid_pagination};