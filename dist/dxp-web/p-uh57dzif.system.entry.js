var __awaiter=this&&this.__awaiter||function(t,e,i,o){function n(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o["throw"](t))}catch(e){r(e)}}function c(t){t.done?i(t.value):n(t.value).then(a,s)}c((o=o.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var i={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},o,n,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(o)throw new TypeError("Generator is already executing.");while(i)try{if(o=1,n&&(r=a[0]&2?n["return"]:a[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;if(n=0,r)a=[a[0]&2,r.value];switch(a[0]){case 0:case 1:r=a;break;case 4:i.label++;return{value:a[1],done:false};case 5:i.label++;n=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(r=i.trys,r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){i=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(a[0]===6&&i.label<r[1]){i.label=r[1];r=a;break}if(r&&i.label<r[2]){i.label=r[2];i.ops.push(a);break}if(r[2])i.ops.pop();i.trys.pop();continue}a=e.call(t,i)}catch(s){a=[6,s];n=0}finally{o=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js"],(function(t){"use strict";var e,i,o,n,r,a;return{setters:[function(t){e=t.r;i=t.c;o=t.d;n=t.h;r=t.g},function(t){a=t.B}],execute:function(){var s={en:{favorited:"Favorited. Click to unfavorite this item",unfavorited:"Unfavorited. Click to favorite this item",showMoreOptions:"Show more options",hideMoreOptions:"Hide more options",openInNewTab:"in New Tab"},"en-US":{favorited:"Favorited. Click to unfavorite this item",unfavorited:"Unfavorited. Click to favorite this item",showMoreOptions:"Show more options",hideMoreOptions:"Hide more options",openInNewTab:"in New Tab"},es:{favorited:"Haga clic para desfavorecer este artículo",unfavorited:"haga clic para favoritos este artículo",showMoreOptions:"Mostrar más opciones",hideMoreOptions:"Ocultar más opciones",openInNewTab:"en Nueva pestaña"},"es-ES":{favorited:"Haga clic para desfavorecer este artículo",unfavorited:"haga clic para favoritos este artículo",showMoreOptions:"Mostrar más opciones",hideMoreOptions:"Ocultar más opciones",openInNewTab:"en Nueva pestaña"}};var c=t("dxp_vcard",function(){function t(t){e(this,t);this.iconSprite="icons-sprite";this.moreOptionList=[];this.cardClick=i(this,"cardClick",7);this.favoriteClick=i(this,"favoriteClick",7)}t.prototype.componentWillLoad=function(){this.base=new a(this,o);this.base.i18Init(o,"Vcard",s)};t.prototype.componentDidLoad=function(){this.applyCardColor()};t.prototype.componentDidUpdate=function(){this.applyCardColor()};t.prototype.routingHandler=function(t){this.base.routingEventListener(t)};t.prototype.favoriteCard=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.cardFavorited=!this.cardFavorited;this.favoriteClick.emit(t);return[2]}))}))};t.prototype.hideMoreOptions=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.showMoreOption=false;return[2]}))}))};t.prototype.showMoreOptions=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.showMoreOption=true;return[2]}))}))};t.prototype.applyCardColor=function(){var t=this.element?this.element:this.element;if(this.ribbonColor){var e=t.querySelector(".card-ribbon-color");e.style.backgroundColor=this.ribbonColor;var i=t.querySelector(".icon-circle");if(i){i.style.backgroundColor=this.ribbonColor}}};t.prototype.onClickVCardHandler=function(t){this.cardClick.emit(t)};t.prototype.renderCardButton=function(){return n("div",{class:"cta-wrapper",onClick:function(t){t.stopPropagation()}},n("dxp-cta",{type:"link","button-size":"md","link-type":"dxp-cta-link",text:this.ctaButtonText,href:this.ctaButtonLink,"aria-label":this.ctaButtonText,disabled:!this.enableStatusText,"open-in-new-tab":"false"}))};t.prototype.renderFavIcon=function(){var t=this;return n("button",{class:"btn-icon btn-favorite "+(this.cardFavorited?"card-favorited":""),onClick:function(e){return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:e.stopPropagation();return[4,this.favoriteCard(e)];case 1:t.sent();return[2]}}))}))},"aria-label":""+(this.cardFavorited?o.i18n.t("Vcard:favorited"):o.i18n.t("Vcard:unfavorited")),title:""+(this.cardFavorited?o.i18n.t("Vcard:favorited"):o.i18n.t("Vcard:unfavorited")),role:"button"},n("i",{class:this.iconSprite+" "+(this.cardFavorited?"favorite-o":"unfavorite-o")}))};t.prototype.renderMoreOptions=function(){var t=this;return n("div",{class:"more-options-container "+(this.showMoreOption?"dxp-block":"")},n("div",{class:"list-wrapper","aria-modal":"true",onClick:function(t){t.stopPropagation()}},this.moreOptionList.length?n("ul",null,this.moreOptionList&&this.moreOptionList.map((function(t){return n("li",null,t.type==="link"?n("dxp-cta",{type:t.type,"button-size":"md","link-type":t.linkType,text:t.text,disabled:t.disabled,href:t.href,"aria-label":t.openInNewTab?t.ariaLabel+" "+o.i18n.t("Vcard:openInNewTab"):t.ariaLabel,"open-in-new-tab":t.openInNewTab}):"")}))):n("slot",{name:"more-options"})),n("button",{role:"button",class:"btn-icon btn-link close-more-options",onClick:function(e){return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:e.stopPropagation();return[4,this.hideMoreOptions()];case 1:t.sent();return[2]}}))}))},"aria-label":o.i18n.t("Vcard:hideMoreOptions"),title:o.i18n.t("Vcard:hideMoreOptions")},n("i",{class:this.iconSprite+" cross-sm-o"})))};t.prototype.render=function(){var t=this;o.log.debug(this.element.tagName,"render()","in dxp-vcard render() : "+"DEVELOPMENT");var e=[n("link",{rel:"stylesheet",href:""}),[this.theme&&n("link",{rel:"stylesheet",href:""})],[this.theme&&n("link",{rel:"stylesheet",href:o.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-vcard.min.css"})]];return n("div",{onClick:function(e){t.onClickVCardHandler(e)},class:this.base.componentClass()+" "+this.cardView+" "+this.cardType+" "+(this.cardView==="list-view"&&this.showMoreOption?"more-option-visible":"")+"\n        "+(this.additionalInfo?"has-additional-info":"")+" "+(this.enableCardFavIcon?"has-favorite-btn":""),dir:this.dir,"data-theme":this.theme},e,n("div",{class:"card-ribbon-color"}),this.cardType?n("p",{class:"card-type"},n("span",{class:"icon-circle "+this.cardType},n("i",{class:this.iconSprite+" "+this.icon})),n("span",{tabindex:"0",class:"type",innerHTML:this.cardType})):"",n("h2",{tabindex:"0",title:this.cardTitle,innerHTML:this.cardTitle}),this.cardDescription?n("p",{title:this.cardDescription,class:"card-description"},this.cardDescription):"",this.enableCardButton?this.renderCardButton():n("slot",{name:"card-button"}),this.enableCardFavIcon?this.renderFavIcon():"",this.enableMoreOptions?n("button",{class:"btn-icon btn-more-options",onClick:function(e){return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:e.stopPropagation();return[4,this.showMoreOptions()];case 1:t.sent();return[2]}}))}))},"aria-label":o.i18n.t("Vcard:showMoreOptions"),title:o.i18n.t("Vcard:showMoreOptions"),role:"button"},n("i",{class:this.iconSprite+" more-actions-md-o"})):"",this.additionalInfo?n("p",{class:"additional-info"},this.additionalInfo):"",this.enableMoreOptions?this.renderMoreOptions():"")};Object.defineProperty(t.prototype,"element",{get:function(){return r(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return"div.dxp.dxp-vcard{border:.0625rem solid transparent;border-radius:.25rem .25rem .375rem .375rem;position:relative;padding:1.1875rem 1rem 1rem;min-height:12.75rem}div.dxp.dxp-vcard .card-ribbon-color{height:.25rem;position:absolute;top:-1px;left:-1px;right:-1px;border-radius:.375rem .375rem 0 0;z-index:9}div.dxp.dxp-vcard .card-type{margin:0 0 1rem 0;letter-spacing:.113rem;text-transform:uppercase}div.dxp.dxp-vcard .card-type span{vertical-align:middle}div.dxp.dxp-vcard .card-type span.icon-circle{width:1.5rem;height:1.5rem;border-radius:50%;display:inline-block;margin-right:.5rem;padding:.1875rem}div.dxp.dxp-vcard .card-type span.type{margin-top:.0625rem;display:inline-block}div.dxp.dxp-vcard h2{margin:0;line-height:1.5rem;-webkit-line-clamp:3;height:4.5rem}div.dxp.dxp-vcard .card-description,div.dxp.dxp-vcard h2{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}div.dxp.dxp-vcard .card-description{margin-top:.9375rem;margin-bottom:4rem;-webkit-line-clamp:2;height:2.25rem}div.dxp.dxp-vcard .cta-wrapper{border:none;position:absolute;left:1rem;bottom:2.75rem}div.dxp.dxp-vcard .more-options-container{position:absolute;z-index:9;display:none;top:.5rem;left:.5rem;right:.5rem;bottom:.375rem}div.dxp.dxp-vcard .more-options-container .close-more-options{position:absolute;right:.5625rem;bottom:.625rem;cursor:pointer;border:none}div.dxp.dxp-vcard .more-options-container .list-wrapper{position:absolute;top:0;left:0;right:0;bottom:2.25rem;padding:.3125rem;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:end;align-items:flex-end;overflow-y:auto}div.dxp.dxp-vcard .more-options-container ul{margin:0;list-style:none;padding:0 .5rem;text-align:right;max-height:100%}div.dxp.dxp-vcard .more-options-container ul li{display:block;padding:.1875rem 0}div.dxp.dxp-vcard .more-options-container ul li:last-child{padding-bottom:0}div.dxp.dxp-vcard .btn-favorite,div.dxp.dxp-vcard .btn-more-options{border:none;position:absolute}div.dxp.dxp-vcard .btn-more-options{width:1.5rem;height:1.5rem;right:.875rem;bottom:.625rem}div.dxp.dxp-vcard .btn-favorite{width:1.25rem;height:1.25rem;right:.875rem;top:1rem}div.dxp.dxp-vcard .btn-icon{padding:0;min-width:1rem;min-height:1rem;cursor:pointer;background:transparent}div.dxp.dxp-vcard .additional-info{position:absolute;margin:0;bottom:.8125rem;left:1rem;max-width:6.25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\@media (min-width:993px){div.dxp.dxp-vcard.list-view{position:relative;border:none;border-bottom:.0625rem solid transparent;padding:.625rem .5rem .75rem;min-height:auto;-webkit-box-shadow:none;box-shadow:none;border-radius:0}div.dxp.dxp-vcard.list-view .card-ribbon-color{display:none}div.dxp.dxp-vcard.list-view .card-type{margin:0;display:inline-block;width:9.75rem;vertical-align:middle}div.dxp.dxp-vcard.list-view h2{display:inline-block;max-width:36%;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle;height:auto}div.dxp.dxp-vcard.list-view .card-description{display:none;height:auto}div.dxp.dxp-vcard.list-view .cta-wrapper{top:.75rem;right:8.75rem;left:auto}div.dxp.dxp-vcard.list-view .btn-favorite{top:.938rem;right:4.1875rem}div.dxp.dxp-vcard.list-view .btn-more-options{right:.75rem;top:.813rem}div.dxp.dxp-vcard.list-view .more-options-container{width:50%;right:0;top:0;bottom:0;left:auto}div.dxp.dxp-vcard.list-view .more-options-container .close-more-options{width:1.25rem;height:1.25rem;position:absolute;right:.75rem;top:1rem;bottom:auto}div.dxp.dxp-vcard.list-view .more-options-container .list-wrapper{top:.75rem;left:0;bottom:auto;right:3.4375rem;border:0;padding:0}div.dxp.dxp-vcard.list-view .more-options-container ul{padding:0;text-align:right}div.dxp.dxp-vcard.list-view .more-options-container ul li{padding:0 .9375rem;display:inline-block;position:relative}div.dxp.dxp-vcard.list-view .more-options-container ul li:after{content:\"\";position:absolute;right:0;top:.25rem;bottom:.125rem;width:.0625rem}div.dxp.dxp-vcard.list-view .more-options-container ul li:first-child{padding-left:0}div.dxp.dxp-vcard.list-view .more-options-container ul li:last-child{padding-right:0}div.dxp.dxp-vcard.list-view .more-options-container ul li:last-child:after{display:none}div.dxp.dxp-vcard.list-view .additional-info{left:auto;right:4.75rem;bottom:.9375rem}div.dxp.dxp-vcard.list-view.has-favorite-btn .additional-info{right:6rem}div.dxp.dxp-vcard.list-view.has-additional-info .cta-wrapper{right:14.125rem;left:auto}}\@media (max-width:1200px){div.dxp.dxp-vcard.list-view .more-options-container{width:auto;left:0}}\@media (max-width:992px){div.dxp.dxp-vcard.list-view .more-options-container{width:auto;top:.5rem;left:.5rem;right:.5rem;bottom:.5rem}div.dxp.dxp-vcard.list-view .more-options-container .close-more-options{position:absolute;right:.5625rem;bottom:.5625rem}div.dxp.dxp-vcard.list-view .more-options-container .list-wrapper{position:absolute;top:0;left:0;right:0;bottom:2.25rem;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:end;align-items:flex-end;overflow-y:auto}div.dxp.dxp-vcard.list-view .more-options-container ul{padding:0 .5rem;list-style:none;text-align:right;max-height:100%}div.dxp.dxp-vcard.list-view .more-options-container ul li:last-child{padding-bottom:0}}div.dxp.dxp-vcard[dir=rtl] .card-type span.icon-circle{margin-left:.5rem;margin-right:0;padding-left:0;padding-right:.29rem}div.dxp.dxp-vcard[dir=rtl] .cta-wrapper{right:1rem;left:auto}div.dxp.dxp-vcard[dir=rtl] .more-options-container .close-more-options{left:.375rem;right:auto}div.dxp.dxp-vcard[dir=rtl] .more-options-container ul{text-align:left}div.dxp.dxp-vcard[dir=rtl] .btn-favorite,div.dxp.dxp-vcard[dir=rtl] .btn-more-options{left:.875rem;right:auto}div.dxp.dxp-vcard[dir=rtl] .additional-info{left:auto;right:.875rem}\@media (min-width:993px){div.dxp.dxp-vcard[dir=rtl].list-view .cta-wrapper{left:8.75rem;right:auto}div.dxp.dxp-vcard[dir=rtl].list-view .btn-favorite{left:3.625rem}div.dxp.dxp-vcard[dir=rtl].list-view .btn-more-options{left:.75rem}div.dxp.dxp-vcard[dir=rtl].list-view .more-options-container{left:0;right:auto}div.dxp.dxp-vcard[dir=rtl].list-view .more-options-container .close-more-options{left:.75rem;right:auto}div.dxp.dxp-vcard[dir=rtl].list-view .more-options-container .list-wrapper{right:0;left:3.4375rem}div.dxp.dxp-vcard[dir=rtl].list-view .more-options-container ul li:after{left:0;right:auto}div.dxp.dxp-vcard[dir=rtl].list-view .more-options-container ul li:first-child{padding-right:0;padding-left:.9375rem}div.dxp.dxp-vcard[dir=rtl].list-view .more-options-container ul li:last-child{padding-left:0;padding-right:.9375rem}div.dxp.dxp-vcard[dir=rtl].list-view .additional-info{right:auto;left:4.75rem}div.dxp.dxp-vcard[dir=rtl].list-view.has-favorite-btn .additional-info{left:6rem;right:auto}div.dxp.dxp-vcard[dir=rtl].list-view.has-additional-info .cta-wrapper{left:14.125rem;right:auto}}\@media (max-width:1200px){div.dxp.dxp-vcard[dir=rtl].list-view .more-options-container{right:0}}\@media (max-width:992px){div.dxp.dxp-vcard[dir=rtl].list-view .more-options-container .close-more-options{left:.375rem;right:auto}}"},enumerable:true,configurable:true});return t}())}}}));