var __awaiter=this&&this.__awaiter||function(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{s(i.next(e))}catch(t){o(t)}}function l(e){try{s(i["throw"](e))}catch(t){o(t)}}function s(e){e.done?n(e.value):r(e.value).then(a,l)}s((i=i.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(t){return s([e,t])}}function s(a){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,r&&(o=a[0]&2?r["return"]:a[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;if(r=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;r=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(l){a=[6,l];r=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js","./p-b0cc7fef.system.js"],(function(e){"use strict";var t,n,i,r,o,a,l;return{setters:[function(e){t=e.r;n=e.c;i=e.d;r=e.h;o=e.g},function(e){a=e.B},function(e){l=e.C}],execute:function(){var s="dxp-cta-list";var c=".sub-nav-item";var u=e("dxp_nav_menu",function(){function e(e){t(this,e);this.navHeaderClicked=n(this,"navHeaderClicked",7);this.childClickEvent=n(this,"childClickEvent",7)}e.prototype.navGroupHandler=function(){this.base.createNestedMarkup(this.navGroupContainer,"dxp-nav-item-content",this.child)};e.prototype.quickLinksHandler=function(){if(this.quickLinks.length>0){for(var e=0,t=this.quickLinks;e<t.length;e++){var n=t[e];if(n.quickLinkDescription){n["title-text"]=n.quickLinkDescription;n["orientation"]="vertical";for(var i=0,r=n.ctaList;i<r.length;i++){var o=r[i];if(o.title){o["text"]=o.title;o["type"]="link";o["src"]=o.image;o["href"]=o.link;o["alt"]=o.imageAltText;o["icon-align"]="left"}}}}this.quickLinks[0].titleStyle="dxp-title-sm";this.quickLinks[0].orientation="vertical"}this.base.createNestedMarkup(this.quickLinksContainer,s,this.quickLinks)};e.prototype.componentWillLoad=function(){this.base=new a(this,i);this.utility=new l};e.prototype.componentDidLoad=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:if(this.quickLinks){this.quickLinksHandler()}if(this.child){this.navGroupHandler()}return[4,this.defaultActionOnFocus()];case 1:e.sent();return[2]}}))}))};e.prototype.componentDidUpdate=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.defaultActionOnFocus()];case 1:e.sent();return[2]}}))}))};e.prototype.defaultActionOnFocus=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,n,i,r,o,a,l,c,u,h;return __generator(this,(function(d){switch(d.label){case 0:e=[];t=this.element.parentElement.querySelectorAll("dxp-nav-menu");n=this.element.querySelector(s);if(!n)return[3,5];return[4,n.componentOnReady().then((function(e){if(e){var t=e?e.querySelector("p"):e.querySelector("p");t.classList.add("dxp-hidden-md-down");t.classList.add("dxp-lg-block");i=e.querySelector("dxp-cta")?e.querySelectorAll("dxp-cta"):e.querySelectorAll("dxp-cta")}}))];case 1:d.sent();if(!(i&&i.length))return[3,5];r=0,o=i;d.label=2;case 2:if(!(r<o.length))return[3,5];a=o[r];return[4,a.componentOnReady().then((function(e){var t=e?e.querySelector("a"):e.querySelector("a");t.setAttribute("tabindex","-1")}))];case 3:d.sent();d.label=4;case 4:r++;return[3,2];case 5:for(l=0,c=t;l<c.length;l++){u=c[l];h=u.querySelector("li.nav-item-li");e.push(h)}this.utility.setPosNSize(e);return[2]}}))}))};e.prototype.parentNavHandler=function(){var e=this.element.querySelector("li")?this.element.querySelector("li"):this.element.querySelector("li");if(this.overlayBgImage){this.utility.openOverlay(e,this.overlayBgImage)}else{this.utility.openOverlay(e)}this.navHeaderClicked.emit(e)};e.prototype.preventDefaultBehaviour=function(e,t){var n=[32,37,38,39,40];if(n.indexOf(e)!==-1){t.preventDefault()}};e.prototype.focusElement=function(e){e.focus()};e.prototype.clickEventHandler=function(e){this.base.routingEventListener(e);this.childClickEvent.emit(e.target)};e.prototype.showHideMenuWithKeyDown=function(e){var t=e.target?e.composedPath()[0]:e.target;var n=t.classList.contains("nav-item");var i=t.getRootNode&&t.getRootNode().host?t.getRootNode().host.closest("dxp-nav"):t.closest("dxp-nav");var r=i&&i?i.querySelector(".dxp-icon-close"):i&&i.querySelector(".dxp-icon-close");var o=t.getAttribute("aria-expanded");var a=this.element.querySelector(s);var l=t.closest("dxp-cta");var u=l&&l.nextElementSibling||t.getRootNode&&t.getRootNode().host&&t.getRootNode().host.nodeName==="DXP-CTA"&&t.getRootNode().host.nextElementSibling;var h=l&&l.previousElementSibling||t.getRootNode&&t.getRootNode().host&&t.getRootNode().host.nodeName==="DXP-CTA"&&t.getRootNode().host.previousElementSibling;var d=l&&!l.nextElementSibling||t.getRootNode&&t.getRootNode().host&&t.getRootNode().host.nodeName==="DXP-CTA"&&!t.getRootNode().host.nextElementSibling;var f=t.classList.contains("sub-nav-item");var p=this.element.querySelector(c);var v=t.closest("dxp-nav-item-content");var y=v&&v.nextElementSibling;var m=v&&v.previousElementSibling;var g=e.keyCode;var b=t.closest(".dxp-cta");this.preventDefaultBehaviour(g,e);if(n&&(g===13||g===32)){this.parentNavHandler()}if(g===9&&(t.getRootNode&&t.getRootNode.host&&t.getRootNode().host.nodeName==="DXP-CTA"||l)){this.parentNavHandler();return}if((b||f)&&g===9){this.parentNavHandler()}if(n&&o==="true"&&(g===9||g===27)){this.parentNavHandler()}if(n&&o==="true"&&(g===40||g===38)){var x=void 0;var k=void 0;if(a){x=a.querySelector("dxp-cta")?a.querySelector("dxp-cta"):a.querySelector("dxp-cta");k=x?x.querySelector("a"):x.querySelector("a")}if(k){this.focusElement(k);return}if(p){this.focusElement(p)}}if(g===40&&u){var k=u?u.querySelector("a"):u.querySelector("a");if(k){this.focusElement(k);return}}if(g===38&&h){var k=void 0;if(h){k=h?h.querySelector("a"):h.querySelector("a")}if(k){this.focusElement(k);return}}if(d&&g===40){var S=this.subNavChildContainer.querySelector(c);if(S){this.focusElement(S);return}if(i){this.focusElement(r)}}if(t&&f&&y&&g===40){var S=y.querySelector(c);if(S){this.focusElement(S)}}if(t&&f&&m&&g===38){var S=m.querySelector(c);if(S){this.focusElement(S)}}if(t&&f&&!y&&g===40){this.focusElement(r)}if(t&&f&&!m&&g===38){if(this.subNavChildContainer){var q=this.subNavChildContainer.querySelector(s);var x=q&&q.querySelector("dxp-cta")?q.querySelectorAll("dxp-cta"):q.querySelectorAll("dxp-cta");var k=x&&x[x.length-1]?x[x.length-1].querySelector("a"):x&&x[x.length-1].querySelector("a");if(k){this.focusElement(k)}}}if(n&&o!=="true"&&(g===40||g===38)){this.parentNavHandler()}};e.prototype.render=function(){var e=this;i.log.debug("in dxp-nav-menu render() : "+"DEVELOPMENT");var t=[r("link",{rel:"stylesheet",href:""}),[this.theme&&r("link",{rel:"stylesheet",href:""})],[this.theme&&r("link",{rel:"stylesheet",href:i.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-nav.min.css"})]];return r("li",{class:"nav-item-li "+this.base.componentClass(),dir:this.dir,"data-theme":this.theme,role:"menu"},t,r("span",{class:"nav-item h5",tabindex:"0",onClick:function(){e.parentNavHandler()},role:"menuitem","aria-haspopup":"true","aria-label":this.accessibilityText?this.accessibilityText:this.linkTitle},this.navigationTitle),r("div",{class:"sub-nav-child-container",ref:function(t){return e.subNavChildContainer=t}},r("div",{class:"quick-links-container dxp-col-lg-3",ref:function(t){return e.quickLinksContainer=t}},r("slot",null),"Â "),this.child&&r("div",{ref:function(t){return e.groupContainer=t},class:"group-container dxp-col-lg-4 dxp-col-offset-lg-1"},r("dxp-nav-item-container",null,r("div",{class:"dxp-scrollable-container"},r("div",{class:"dxp-scrollable"},r("ul",{ref:function(t){return e.navGroupContainer=t}},r("slot",null)))))),!this.child&&r("div",{ref:function(t){return e.groupContainer=t},class:"group-container dxp-col-lg-4 dxp-col-offset-lg-1"},r("div",{class:"dxp-scrollable-container"},r("div",{class:"dxp-scrollable"},r("ul",null,r("slot",{name:"group-content"})))))))};Object.defineProperty(e.prototype,"element",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{child:["navGroupHandler"],quickLinks:["quickLinksHandler"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"li.dxp.dxp-nav-menu{background:none;padding:.8rem 0}li.dxp.dxp-nav-menu>a,li.dxp.dxp-nav-menu>span{margin:0}li.dxp.dxp-nav-menu .sub-nav-child-container{margin-top:1.125rem;display:none;-ms-flex-direction:column-reverse;flex-direction:column-reverse}li.dxp.dxp-nav-menu.in+li{padding-top:0}li.dxp.dxp-nav-menu .nav-item{display:block;width:100%;height:auto;position:relative;padding:0;cursor:pointer}li.dxp.dxp-nav-menu .nav-item:before{content:\"\";display:block;position:absolute}\@media (min-width:992px){li.dxp.dxp-nav-menu{display:inline-block;padding:0}li.dxp.dxp-nav-menu:not(:first-of-type){margin-left:3.5rem}li.dxp.dxp-nav-menu dxp-nav-item-content{display:block}li.dxp.dxp-nav-menu dxp-nav-item-content:not(:last-child){margin-bottom:2.2rem}li.dxp.dxp-nav-menu.in .nav-item:focus{border:.0625rem solid transparent}li.dxp.dxp-nav-menu .nav-item:after{content:\"\";display:block;height:.0625rem;width:calc(100% + 1.3125rem)}li.dxp.dxp-nav-menu .sub-nav-child-container{position:absolute;width:100%;left:0;display:none;margin-top:7.375rem;opacity:0;-webkit-transition:opacity .3s;transition:opacity .3s;pointer-events:none}li.dxp.dxp-nav-menu .sub-nav-child-container.show{display:block}li.dxp.dxp-nav-menu .sub-nav-child-container.expanded{opacity:1;pointer-events:all}li.dxp.dxp-nav-menu .sub-nav-child-container .sub-nav-item{margin:0}li.dxp.dxp-nav-menu .dxp-scrollable{max-height:calc(100vh - 11.3rem)}li.dxp.dxp-nav-menu .dxp-scrollable ul{margin-bottom:0}}\@media screen and (min-width:992px) and (min-width:0\\0){li.dxp.dxp-nav-menu .dxp-scrollable{max-height:calc(100vh - 102px)}}\@media (max-width:991px){li.dxp.dxp-nav-menu.in .sub-nav-child-container{display:-ms-flexbox;display:flex;padding-left:16px}}\@media (max-width:767px){li.dxp.dxp-nav-menu.in .sub-nav-child-container{padding-left:8px}}li.dxp.dxp-nav-menu[dir=rtl].in .nav-item:before,li.dxp.dxp-nav-menu[dir=rtl] .nav-item:before{right:auto;left:0}\@media (min-width:992px){li.dxp.dxp-nav-menu[dir=rtl].in .nav-item:before,li.dxp.dxp-nav-menu[dir=rtl] .nav-item:before{right:auto;left:1.2rem}}\@media (max-width:991px){li.dxp.dxp-nav-menu[dir=rtl].in .sub-nav-child-container{display:-ms-flexbox;display:flex;padding-right:16px}}\@media (max-width:767px){li.dxp.dxp-nav-menu[dir=rtl].in .sub-nav-child-container{padding-right:8px}}"},enumerable:true,configurable:true});return e}())}}}));