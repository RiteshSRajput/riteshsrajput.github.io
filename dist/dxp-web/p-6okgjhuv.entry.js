import{r as t,d as i,h as e,g as s}from"./p-8188e849.js";import{B as l}from"./p-16d6f0ca.js";import{m as r}from"./p-696ed2df.js";const h="dxp-col-lg-4 dxp-col-md-6 dxp-col-sm-12",d=class{constructor(i){t(this,i),this.pageNumber=0,this.tileItemCount=0,this.tileItems=[],this.headerAlignment="center"}componentWillLoad(){this.base=new l(this,i),this.base.i18Init(i,"TileGrid",r)}componentDidLoad(){this.findTileList(),this.tileCalc()}handleResizeEvent(){this.tileCalc()}routingHandler(t){this.base.routingEventListener(t)}changeSlide(t){"NEXT"===t?(this.pageNumber+=1,this.tileCalc()):(this.pageNumber-=1,this.tileCalc())}findTileList(){const t=this.base.shadowRootQuerySelector(this.element,".dxp-tile-grid-container"),i=this.getRenderedTileItems(),e=this.renderColumns(i.length);this.tileItemCount=i.length,Array.from(i).forEach((i,s)=>{this.isSquare&&i.setAttribute("is-square",this.isSquare);const l=document.createElement("div");this.isSquare||(l.style.paddingLeft="1px",l.style.paddingRight="1px",l.style.flexShrink="0",l.style.overflow="hidden"),l.style.flexShrink="0",l.className=e,l.appendChild(i),t.appendChild(l),0===s&&(l.style.paddingLeft=0),s===this.tileItemCount-1&&(l.style.paddingRight=0)}),this.base.shadowRootQuerySelector(this.element,".next").classList.add(this.isSquare&&this.tileItemCount>3||this.tileItemCount>4?"active":"disable");const s=this.base.shadowRootQuerySelector(this.element,".dxp-tile-grid-container").getBoundingClientRect().width,l=this.getCalcWidth();return Math.ceil(i.length/(s/l))}getArrayFromNodeList(t){return[].slice.call(t)}getCalcWidth(){return this.base.shadowRootQuerySelector(this.element,".dxp-tile").getBoundingClientRect().width}getRenderedTileItems(){let t=this.getArrayFromNodeList(this.base.shadowRootQuerySelector(this.element,"dxp-tile",!0));return t.length>0?t:this.getArrayFromNodeList(this.element.childNodes).filter(t=>t.tagName&&"dxp-tile"===t.tagName.toLowerCase())}renderColumns(t){let i="";switch(t){case 1:i=this.isSquare?h:"dxp-col-12 sc-dxp-tile-grid";break;case 2:i=this.isSquare?h:"dxp-col-md-6 dxp-col-12 sc-dxp-tile-grid";break;case 3:i=h;break;case 4:i=this.isSquare?h:"dxp-col-lg-3 dxp-col-md-6 dxp-col-sm-12";break;default:i=this.isSquare?h:"dxp-col-lg-3 dxp-col-md-6 dxp-col-sm-12"}return`${i} full-width`}setX(t){const i=this.base.shadowRootQuerySelector(this.element,".dxp-tile-grid-container");i.style.left=`${t}px`,i.style.transition="left 1s"}tileCalc(){const t=this.base.shadowRootQuerySelector(this.element,".full-width").getBoundingClientRect().width;let i;const e=t*(i=window.innerWidth>=576&&window.innerWidth<=768?2:window.innerWidth<575?1:this.isSquare?3:4),s=this.getRenderedTileItems(),l=this.base.shadowRootQuerySelector(this.element,".dxp-tile-grid-container").getBoundingClientRect().width;for(const n of s)n.style.width=`${t}px`;const r=Math.ceil(s.length/(l/t));this.pageNumber<=r&&this.setX(this.pageNumber*e*-1);const h=this.base.shadowRootQuerySelector(this.element,".prev");this.pageNumber>0?h.classList.remove("disable"):h.classList.add("disable");const d=this.base.shadowRootQuerySelector(this.element,".next");this.pageNumber===r-1?d.classList.add("disable"):d.classList.remove("disable")}render(){i.log.debug(this.element.tagName,"render()","in dxp-tile-grid render() : DEVELOPMENT");const t=[e("link",{rel:"stylesheet",href:""}),[this.theme&&e("link",{rel:"stylesheet",href:""})],[this.theme&&e("link",{rel:"stylesheet",href:`${i.config.get("DXP_STYLE_BASE_URL")}/themes/${this.theme}/dxp-tile-grid.min.css`})]];return e("div",{class:`${this.base.componentClass()}`,dir:this.dir,"data-theme":this.theme},t,this.tileGridEyebrowText&&e("p",{class:`dxp-title-eyebrow sc-dxp-tile-grid\n         ${"left"===this.headerAlignment?"dxp-text-left":"right"===this.headerAlignment?"dxp-text-right":"center"}`,innerHTML:this.tileGridEyebrowText}),this.tileGridTitle&&e("h3",{class:"left"===this.headerAlignment?"dxp-text-left":"right"===this.headerAlignment?"dxp-text-right":"center",innerHTML:this.tileGridTitle}),this.tileGridDescription&&e("p",{class:`description ${"left"===this.headerAlignment?"dxp-text-left":"right"===this.headerAlignment?"dxp-text-right":"center"}`,innerHTML:this.tileGridDescription}),e("div",{class:"dxp-tile-grid-container dxp-row"},this.tileListData?this.tileListData.map(t=>e("dxp-tile",{class:"dxp-tile","tile-caption":t["tile-caption"],"badge-text":t["badge-text"],"background-type":t["tile-type"],src:t.src,"src-lg":t["src-lg"],"src-md":t["src-md"],"focal-point-lg":t["focal-point-lg"],"eyebrow-title":t["eyebrow-title"],"focal-point":t["focal-point"],"focal-point-md":t["focal-point-md"],"open-in-new-tab":t["open-in-new-tab"],description:t.description,responsive:t.responsive,"is-square":t.isSquare,href:t.href},t.ctaListData&&e("dxp-cta-list",{orientation:"vertical",slot:"cta"},t.ctaListData.ctaList.map(t=>e("dxp-cta",{class:t.linkType,"link-type":t.linkType,text:t.text,type:t.type,src:t.src,"aria-label":t.ariaLabel,href:t.href,"open-in-new-tab":t.openInNewTab}))))):e("slot",null)),e("div",{class:"cta-panel"},this.tileGridCta?e("dxp-cta-list",{orientation:"vertical"},this.tileGridCta[0].ctaList.map(t=>e("dxp-cta",{text:t.text,type:t.type,"button-type":"secondary",src:t.src,"aria-label":t.ariaLabel,href:t.href,"open-in-new-tab":t.openInNewTab}))):e("slot",{name:"tilegridcta"}),e("div",{class:"button-panel"},e("button",{class:"next",onClick:()=>this.changeSlide("NEXT"),"aria-label":i.i18n.t("TileCarousel:next")}),e("button",{class:"prev disable",onClick:()=>this.changeSlide("PREV"),"aria-label":i.i18n.t("TileCarousel:prev")}))))}get element(){return s(this)}static get style(){return"div.dxp.dxp-tile-grid{-webkit-transition-delay:10s;transition-delay:10s;position:relative;overflow:hidden;padding-bottom:50px}div.dxp.dxp-tile-grid .center{text-align:center}div.dxp.dxp-tile-grid .tile-grid-title{padding-bottom:5px}div.dxp.dxp-tile-grid .cta-panel{display:-ms-flexbox;display:flex;padding-top:25px}div.dxp.dxp-tile-grid .button-panel{margin-left:auto}div.dxp.dxp-tile-grid .button-panel:after{content:\"\";display:block;clear:both}div.dxp.dxp-tile-grid .button-panel .next,div.dxp.dxp-tile-grid .button-panel .prev{float:right;cursor:pointer;height:24px;width:24px;border:none}div.dxp.dxp-tile-grid .button-panel .next.disable,div.dxp.dxp-tile-grid .button-panel .prev.disable{pointer-events:none;opacity:.5}div.dxp.dxp-tile-grid .button-panel .next{margin-left:36px}div.dxp.dxp-tile-grid .next:hover,div.dxp.dxp-tile-grid .prev:hover{width:24px;height:24px}div.dxp.dxp-tile-grid .dxp-tile-grid-container{left:0;-webkit-transition:left 1s;transition:left 1s;position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;margin:0;padding:0}div.dxp.dxp-tile-grid .dxp-tile-grid-container .dxp-col-12{position:static}div.dxp.dxp-tile-grid .dxp-tile-grid-container ::slotted(div){padding:0;margin:0}\@media (max-width:575px){div.dxp.dxp-tile-grid .dxp-tile-grid-container .full-width{width:100%}}"}};export{d as dxp_tile_grid};