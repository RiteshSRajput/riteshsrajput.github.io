var __awaiter=this&&this.__awaiter||function(e,t,n,i){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function o(e){try{u(i.next(e))}catch(t){r(t)}}function a(e){try{u(i["throw"](e))}catch(t){r(t)}}function u(e){e.done?n(e.value):s(e.value).then(o,a)}u((i=i.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,s,r,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,s&&(r=o[0]&2?s["return"]:o[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,o[1])).done)return r;if(s=0,r)o=[o[0]&2,r.value];switch(o[0]){case 0:case 1:r=o;break;case 4:n.label++;return{value:o[1],done:false};case 5:n.label++;s=o[1];o=[0];continue;case 7:o=n.ops.pop();n.trys.pop();continue;default:if(!(r=n.trys,r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){n.label=o[1];break}if(o[0]===6&&n.label<r[1]){n.label=r[1];r=o;break}if(r&&n.label<r[2]){n.label=r[2];n.ops.push(o);break}if(r[2])n.ops.pop();n.trys.pop();continue}o=t.call(e,n)}catch(a){o=[6,a];s=0}finally{i=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js","./p-3fa5547c.system.js"],(function(e){"use strict";var t,n,i,s,r,o,a;return{setters:[function(e){t=e.r;n=e.c;i=e.d;s=e.h;r=e.g},function(e){o=e.B},function(e){a=e.m}],execute:function(){var u="dxp-sidebar-menu-item";var l=e("dxp_sidebar_menu_group",function(){function e(e){t(this,e);this.hasChildMenuItems=true;this.toggleEmitter=n(this,"toggleEmitter",7)}e.prototype.subMenuChangeHandler=function(){this.base.createNestedMarkup(this.subMenuContainer,u,this.child)};e.prototype.componentWillLoad=function(){this.base=new o(this,i);this.base.i18Init(i,"SidebarMenuGroup",a)};e.prototype.componentDidLoad=function(){this.subMenuChangeHandler();var e=this.base.shadowRootQuerySelector(this.element,u,true);var t=e&&e.length?e:this.element.querySelectorAll(u);this.hasChildMenuItems=t.length>0};e.prototype.componentDidUpdate=function(){this.subMenuChangeHandler()};e.prototype.clickOutsideComponentEvent=function(e){if((e.target||e.target)&&e.composedPath()[0]){this.toggle=e.composedPath()[0].className==="menu-item"||e.composedPath()[0].classList.contains("collapse-icon")||e.composedPath()[0].className==="caret-icon"||e.composedPath()[0].classList.contains("item-label")||e.composedPath()[0].classList.contains("item-icon")||e.composedPath()[0].classList.contains("menu-icon-image")||e.composedPath()[0].classList.contains("sub-item-label")?this.toggle:false}};e.prototype.handleKeyPress=function(e){var t=[32,37,38,39,40];var n=e.key||e.keyCode;if(n===" "||n===32||(n==="Enter"||n===13)){this.toggleMenu()}this.preventDefaultAction(e,t)};e.prototype.routingHandler=function(e){this.base.routingEventListener(e)};e.prototype.collapse=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.toggle=false;return[2]}))}))};e.prototype.expand=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.toggle=true;return[2]}))}))};e.prototype.preventDefaultAction=function(e,t){var n=e.key||e.keyCode;if(t.indexOf(n)>-1){e.preventDefault()}};e.prototype.renderMenuItems=function(){var e=this;return s("div",{class:"child-menu dxp-scrollable "+(this.viewPopup&&this.toggle?"tool":this.toggle?"dxp-block":"dxp-none"),style:{"max-height":this.menuItemsListMaxHeight}},this.viewPopup&&this.toggle&&s("span",{class:"caret-icon"}),s("div",{class:"sub-menu-wrapper"},this.viewPopup&&s("span",{class:"item-heading dxp-flex"},this.menuTitle),s("div",{ref:function(t){return e.subMenuContainer=t}},s("slot",null))))};e.prototype.toggleMenu=function(){var e=this.base.shadowRootQuerySelector(this.element,"a",false);if(!this.hasChildMenuItems&&this.menuHref){e.setAttribute("href",this.menuHref);e.setAttribute("target","_blank")}this.toggleEmitter.emit();this.toggle=!this.toggle};e.prototype.render=function(){var e=this;i.log.debug(this.element.tagName,"render()","in dxp-sidebar-menu-group render() : "+"DEVELOPMENT");var t=[s("link",{rel:"stylesheet",href:""}),[this.theme&&s("link",{rel:"stylesheet",href:""})],[this.theme&&s("link",{rel:"stylesheet",href:i.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-sidebar-menu.min.css"})]];return s("div",{class:this.base.componentClass(),dir:this.dir,"data-theme":this.theme},t,s("div",{class:"item-wrapper dxp-scrollable-container"},s("div",null,s("a",{tabindex:"0",title:this.menuTitle,onClick:function(){return e.toggleMenu()},class:"menu-item "+(this.toggle&&this.menuHref?"active":"")+" "+(this.toggle&&this.hasChildMenuItems?"item-expanded active":""),"aria-expanded":this.toggle&&this.hasChildMenuItems?"true":"false"},s("span",{class:"item-icon dxp-flex"},s("img",{src:this.menuSrc,class:"menu-icon-image",alt:this.menuAlt})),s("span",{class:"item-label "+(this.viewPopup?"dxp-none":"dxp-flex")},this.menuTitle,this.hasChildMenuItems&&s("i",{class:"caret-icon"})))),this.hasChildMenuItems&&this.renderMenuItems()),s("dxp-line",{type:"solid","border-color":"#d0d0d0","background-color":"transparent","height-xl":"1","height-lg":"1","height-md":"1","height-sm":"1"}))};Object.defineProperty(e.prototype,"element",{get:function(){return r(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{child:["subMenuChangeHandler"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return"div.dxp.dxp-sidebar-menu-group .item-wrapper .child-menu{overflow-y:scroll}div.dxp.dxp-sidebar-menu-group .tool{-webkit-transform:translate3d(3.5rem,-3.25rem,6.25rem);transform:translate3d(3.5rem,-3.25rem,6.25rem);position:absolute;display:inline-block;padding-left:.5rem}div.dxp.dxp-sidebar-menu-group .tool .caret-icon{position:absolute;left:0;top:1rem}div.dxp.dxp-sidebar-menu-group .tool .sub-menu-wrapper{display:inline-block;min-width:10rem}div.dxp.dxp-sidebar-menu-group .tool .sub-menu-wrapper .item-heading{padding:.75rem 1.2rem}div.dxp.dxp-sidebar-menu-group .menu-item{padding:1.2rem;display:-ms-flexbox;display:flex;cursor:pointer}div.dxp.dxp-sidebar-menu-group .menu-item .item-icon{width:1.5rem;background-size:contain}div.dxp.dxp-sidebar-menu-group .menu-item .item-icon img{width:100%;height:100%}div.dxp.dxp-sidebar-menu-group .menu-item .item-label{padding-left:.88rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}div.dxp.dxp-sidebar-menu-group .menu-item .item-label .caret-icon{width:.5rem;height:1rem;-webkit-transition:-webkit-transform .2s ease-in;transition:-webkit-transform .2s ease-in;transition:transform .2s ease-in;transition:transform .2s ease-in,-webkit-transform .2s ease-in;margin-left:auto}div.dxp.dxp-sidebar-menu-group .menu-item.item-expanded .caret-icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}div.dxp.dxp-sidebar-menu-group .item-label{padding-left:.93rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex:1 1 auto;flex:1 1 auto}"},enumerable:true,configurable:true});return e}())}}}));