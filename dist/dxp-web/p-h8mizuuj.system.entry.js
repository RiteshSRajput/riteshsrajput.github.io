System.register(["./p-f4cc861d.system.js","./p-4b0c1219.system.js"],(function(t){"use strict";var i,e,s,o,n,a;return{setters:[function(t){i=t.r;e=t.c;s=t.d;o=t.h;n=t.g},function(t){a=t.B}],execute:function(){var r=t("dxp_image",function(){function t(t){i(this,t);this.captionPosition="bottom-left";this.imageTitle="";this.analyticsDataEmitter=e(this,"dxp_comp",7)}t.prototype.imagePathChangeHandler=function(){this.imgSrc=this.src};t.prototype.componentWillLoad=function(){this.base=new a(this,s);this.loadResource();this.calculateFocalPoint()};t.prototype.componentDidLoad=function(){this.imageContainer=this.element?this.element.querySelector(".image-container"):this.element.querySelector(".image-container");this.anchorElm=this.element?this.element.querySelector(".image-container a"):this.element.querySelector(".image-container a");this.imgParentElm=this.anchorElm?this.anchorElm:this.imageContainer;this.componentParentElm=this.element.parentElement;this.img=this.element?this.element.querySelector("img"):this.element.querySelector("img");this.lazyLoadImage();this.applyFocalPoints()};t.prototype.componentWillUpdate=function(){if(this.responsive){this.img.removeAttribute("style");this.imgParentElm.removeAttribute("style");return}};t.prototype.componentDidUpdate=function(){this.lazyLoadImage()};t.prototype.routingHandler=function(t){this.base.routingEventListener(t)};t.prototype.windowResizes=function(){var t=this;clearTimeout(this.timeOut);this.timeOut=setTimeout((function(){t.loadResource()}),300)};t.prototype.applyFocalPoints=function(){var t=this.dir.toLowerCase();if(this.focalPoints&&this.xPos!==undefined&&this.yPos!==undefined&&!this.responsive){this.img.style.left=t!=="rtl"?this.xPos+"%":"-"+this.xPos+"%";if(window.getComputedStyle(this.componentParentElm).height==="auto"){this.img.style.transform=t!=="rtl"?"translate(-"+this.xPos+"%, "+0+")":"translate("+this.xPos+"%, "+0+"%)"}else{this.img.style.transform=t!=="rtl"?"translate(-"+this.xPos+"%, -"+this.yPos+"%)":"translate("+this.xPos+"%, -"+this.yPos+"%)";this.img.style.top=this.yPos+"%"}}};t.prototype.calculateDeviceFocalPoint=function(t,i,e){t?this.focalPoints=t:i?this.focalPoints=i:e?this.focalPoints=e:this.focalPoints=""};t.prototype.calculateFocalPoint=function(){if(this.focalPoints!==undefined){try{this.focalPoints=typeof this.focalPoints==="string"&&this.focalPoints.length!==0?JSON.parse(this.focalPoints):this.focalPoints;if(this.focalPoints.length===2&&this.focalPoints[0]<=10&&this.focalPoints[1]<=10){this.xPos=this.dir!=="rtl"?this.focalPoints[0]*10:(10-this.focalPoints[0])*10;this.yPos=this.focalPoints[1]*10}else{this.focalPoints=undefined}}catch(t){this.focalPoints=undefined;s.log.error(this.element.tagName,"calculateFocalPoint()","Error message: ",t);return false}}};t.prototype.emitAnalyticsData=function(){var t={di_comp_name:this.element.tagName,di_comp_title:this.imageTitle,di_comp_src:this.imgSrc};this.analyticsDataEmitter.emit(t);s.log.info(this.element.tagName,"emitAnalytics()",t)};t.prototype.fallBack=function(){var t=this.base.shadowRootQuerySelector(this.element,"img",false);setTimeout((function(){var i=window.pageYOffset;if(t["offsetTop"]<window.innerHeight+i){t["src"]=t["dataset"].src;t.classList.remove("lazy")}}),20)};t.prototype.lazyLoadImage=function(){var t;if(window["IntersectionObserver"]){t=this.base.shadowRootQuerySelector(this.element,"img",false);var i=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var e=t.target;e.src=e.dataset.src;e.classList.remove("lazy");i.unobserve(e)}}))}));if(t){i.observe(t)}}else{this.fallBack()}};t.prototype.loadResource=function(){var t=this;if(this.base.getDeviceWidthType()==="xl"||this.base.getDeviceWidthType()==="lg"){this.src?this.imgSrc=this.src:this.imgSrc="";this.calculateDeviceFocalPoint("","",this.focalPoint)}else if(this.base.getDeviceWidthType()==="md"){this.srcLg?this.imgSrc=this.srcLg:this.src?this.imgSrc=this.src:this.imgSrc="";this.calculateDeviceFocalPoint("",this.focalPointLg,this.focalPoint)}else{this.srcMd?this.imgSrc=this.srcMd:this.srcLg?this.imgSrc=this.srcLg:this.src?this.imgSrc=this.src:this.imgSrc="";this.calculateDeviceFocalPoint(this.focalPointMd,this.focalPointLg,this.focalPoint)}this.calculateFocalPoint();setTimeout((function(){if(t.focalPoints&&!t.responsive){t.applyFocalPoints()}}),300)};t.prototype.renderCaptions=function(){return(this.captionTitle||this.captionEyebrow||this.captionSubtitle)&&o("div",{class:this.captionPosition},this.captionEyebrow&&o("p",{class:"dxp-title-eyebrow dxp-font-size-lg"},this.captionEyebrow),this.captionTitle&&o("h3",{class:"dxp-title-1"},this.captionTitle),o("p",{class:this.captionSubtitle?"description dxp-hidden-xs-only":"description"},this.captionSubtitle))};t.prototype.render=function(){var t=this;return this.imgSrc&&this.imgSrc.length?o("div",{class:this.base.componentClass(),dir:this.dir},o("link",{rel:"stylesheet",href:""}),this.theme&&[o("link",{rel:"stylesheet",href:""}),o("link",{rel:"stylesheet",href:s.config.get("DXP_STYLE_BASE_URL")+"/themes/"+this.theme+"/dxp-image.min.css"})],this.dtmUrl&&o("script",{src:this.dtmUrl}),o("div",{class:"image-container"},this.href?o("a",{href:this.href,"aria-label":this.ariaLabel,target:this.openInNewTab?"_blank":"_self",onClick:function(){return t.emitAnalyticsData()}},o("img",{class:this.focalPoints&&!this.responsive?"focal-point-img":this.responsive?"dxp-img-fluid":undefined,alt:this.alt,title:this.imageTitle,"data-src":this.imgSrc}),this.enableOverlay&&o("div",{class:"overlay"},o("p",null,this.imageTitle,o("slot",{name:"overlay"})))):[o("img",{class:this.focalPoints&&!this.responsive?"focal-point-img":this.responsive?"dxp-img-fluid":undefined,alt:this.alt,title:this.imageTitle,"data-src":this.imgSrc}),this.enableOverlay&&o("div",{class:"overlay"},o("p",null,this.imageTitle,o("slot",{name:"overlay"})))],this.renderCaptions())):undefined};Object.defineProperty(t.prototype,"element",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{src:["imagePathChangeHandler"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return"div.dxp.dxp-image .image-container{position:relative;overflow:hidden;width:100%}div.dxp.dxp-image .focal-point-img{width:auto;max-height:100%;position:relative}div.dxp.dxp-image .image-container a{display:block;position:relative}div.dxp.dxp-image .image-container .overlay{position:absolute;top:0;bottom:0;left:0;right:0;display:none;font-size:30px;text-align:center}div.dxp.dxp-image .image-container .overlay p{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}div.dxp.dxp-image .image-container:hover .overlay{display:block;cursor:pointer}div.dxp.dxp-image .bottom-left{position:absolute;bottom:32px;left:24px}div.dxp.dxp-image .top-left{position:absolute;top:32px;left:24px}div.dxp.dxp-image .top-right{position:absolute;top:32px;right:24px}div.dxp.dxp-image .bottom-right{position:absolute;bottom:32px;right:24px}div.dxp.dxp-image .centered{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}\@media (min-width:992px){div.dxp.dxp-image .full-width-lg{min-width:100%;min-height:100%}div.dxp.dxp-image .focal-point-img{max-height:none}}\@media (max-width:991px){div.dxp.dxp-image .focal-point-img{min-height:100%}div.dxp.dxp-image .full-width-md-down{min-width:100%;max-height:none}}"},enumerable:true,configurable:true});return t}())}}}));